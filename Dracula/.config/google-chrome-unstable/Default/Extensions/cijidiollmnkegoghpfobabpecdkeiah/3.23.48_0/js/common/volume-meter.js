function createAudioMeter(i,t,n,e){var o=i.createScriptProcessor(512);return o.onaudioprocess=volumeAudioProcess,o.clipping=!1,o.lastClip=0,o.volume=0,o.clipLevel=t||.98,o.averaging=n||.95,o.clipLag=e||750,o.connect(i.destination),o.checkClipping=function(){return!!this.clipping&&(this.lastClip+this.clipLag<window.performance.now()&&(this.clipping=!1),this.clipping)},o.shutdown=function(){this.disconnect(),this.onaudioprocess=null},o}function volumeAudioProcess(i){for(var t,n=i.inputBuffer.getChannelData(0),e=n.length,o=0,s=0;s<e;s++)t=n[s],Math.abs(t)>=this.clipLevel&&(this.clipping=!0,this.lastClip=window.performance.now()),o+=t*t;var c=Math.sqrt(o/e);this.volume=Math.max(c,this.volume*this.averaging)}