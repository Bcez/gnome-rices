function setRecordingOptions(e){updateRecordingOptions(e.screenRecord,"screen"),updateRecordingOptions(e.webCam,"webcam"),updateRecordingOptions(e.audio,"audio")}function setRecordingConfiguration(){recordConfiguration={screenRecord:!0,webCam:!1,audio:!0,separateLayer:!1,defaultTab:!1,pseudoWebcam:!1,webcamPosition:"bottom-left",webcamSize:"medium",webcamShape:"rectangle"},chrome.storage.sync.get(["userPreferences","recordingDefaults"],function(e){var o=e.userPreferences;if(void 0!=o){for(var t in o)void 0!=o[t]&&(userPreferences[t]=o[t]);void 0==o.webcamSize&&void 0==o.webCamSize||(userPreferences.webcamSize=o.webcamSize||o.webCamSize),recordConfiguration=userPreferences}var i=e.recordingDefaults;void 0!=i&&(recordConfiguration.screenRecord=i.screenRecord,recordConfiguration.webCam=i.webCam,recordConfiguration.audio=i.audio),"circle"==recordConfiguration.webcamShape&&recordConfiguration.screenRecord&&recordConfiguration.webCam&&(recordConfiguration.pseudoWebcam=!0),canAllowScreenRecord||(recordConfiguration.screenRecord=!1),setRecordingOptions(recordConfiguration)}),$(".hv-embed-recording-option").off("click"),$(".hv-embed-recording-option").on("click",recordingOption)}function updateRecordingOptions(e,o){"screen"==o?(e?$(".hv-embed-screen-toggle-container").show():$(".hv-embed-screen-toggle-container").hide(),recordConfiguration.screenRecord=e):"webcam"==o?(e?$(".hv-embed-webcam-selection-container").show():$(".hv-embed-webcam-selection-container").hide(),recordConfiguration.webCam=e):"audio"==o&&(e?$(".hv-embed-audio-selection-container").show():$(".hv-embed-audio-selection-container").hide(),recordConfiguration.audio=e),saveDefaults(),e?($(".hv-embed-"+o+"-box-live").show(),$(".hv-embed-"+o+"-box").hide()):($(".hv-embed-"+o+"-box-live").hide(),$(".hv-embed-"+o+"-box").show()),recordConfiguration.webCam&&recordConfiguration.screenRecord?$(".hv-embed-webcam-visible-chk-container").show():$(".hv-embed-webcam-visible-chk-container").hide(),recordConfiguration.webCam?$(".hv-embed-webcam-preview-chk-container").show():$(".hv-embed-webcam-preview-chk-container").hide()}function saveDefaults(){chrome.storage.sync.set({recordingDefaults:recordConfiguration},function(){}),chrome.storage.sync.set({userPreferences:userPreferences},function(){})}function recordingOption(e){e&&($(".hv-embed-selected-option:visible").length<=1&&e.currentTarget.classList.contains("hv-embed-selected-option")||e.currentTarget.classList.contains("hv-embed-options-disabled")||(e.currentTarget.classList.contains("hv-embed-screenrecord-btn")&&canAllowScreenRecord?updateRecordingOptions(!recordConfiguration.screenRecord,"screen"):e.currentTarget.classList.contains("hv-embed-webcam-btn")&&videoDeviceAvailable?updateRecordingOptions(!recordConfiguration.webCam,"webcam"):e.currentTarget.classList.contains("hv-embed-audio-btn")&&audioDeviceAvailable&&updateRecordingOptions(!recordConfiguration.audio,"audio")))}function initialize(){isAllVideosEmpty=!1,isMyVideosEmpty=!1,port.onMessage.addListener(function(e,o,t){"authCheck"==e.backgroundRecordingMessage&&authRequested&&(authRequested=!1,plan_params=e.data.plan_params,plan_params&&(ticketEnabled=plan_params.feature_params.guest_recording,usersEnabled=plan_params.user_params.enabled,myVideosOnly=void 0==plan_params.roles||plan_params.roles.features.my_videos_only,topBarEnabled=plan_params.feature_params.top_bar,userType=1==plan_params.feature_params.assignments?"education":"csm",categoriesAllowed=plan_params.feature_params.categories,canAllowScreenRecord=plan_params.is_screen_record_enabled),_displayPage(e.data.auth,e.data.payload.widgetType)),"videoLibrary"==e.backgroundRecordingMessage&&populateVideoLibrary(e.data),"bothstarted"==e.backgroundRecordingMessage&&setRecordingOptions(recordConfiguration),"stopped_recording"==e.backgroundRecordingMessage&&(completedRecording=!0)})}function checkAndShowWidget(e){port.postMessage({authCheck:!0,data:{widgetType:e},messageFromContentScript1234:!0}),authRequested=!0}function showWidgetWithAuth(e,o,t){usersEnabled=t.usersEnabled,topBarEnabled=t.topBarEnabled,_displayPage(e,o)}function _displayPage(e,o){allUrlsPermission&&(!e&&$(".hv-embed-loginPage").is(":visible")||e&&$(".hv-embed-recording-tab-content").is(":visible")||(e?showCorrespondingWidget(o):($(".hv-embed-topbar-block").hide(),$(".hv-embed-popup-options-block").hide(),$(".hv-embed-recording-block").hide(),$(".hv-embed-login-block").show(),$(".hv-embed-signin").off("click"),$(".hv-embed-signin").on("click",{url:server+"/users/sign_in",type:2},loginClick)),setRecordingConfiguration(),$(".hv-embed-widget-logo-img").attr("src",chrome.runtime.getURL("/images/injected/hippo-video-logo.svg")),$(".hv-embed-topbar-logo").attr("src",chrome.runtime.getURL("/images/injected/logo-32.png")),$(".hv-embed-screen-rec-uns-img").attr("src",chrome.runtime.getURL("/images/injected/screen-record-uns.png")),$(".hv-embed-screen-rec-img").attr("src",chrome.runtime.getURL("/images/injected/screen-record.png")),$(".hv-embed-webcam-uns-img").attr("src",chrome.runtime.getURL("/images/injected/webcam-uns.png")),$(".hv-embed-webcam-img").attr("src",chrome.runtime.getURL("/images/injected/webcam.png")),$(".hv-embed-audio-uns-img").attr("src",chrome.runtime.getURL("/images/injected/mic-unselected.png")),$(".hv-embed-audio-img").attr("src",chrome.runtime.getURL("/images/injected/mic-selected.png")),$(".hv-embed-note-logo-img").attr("src",chrome.runtime.getURL("/images/injected/logo-16.png")),$(".hv-embed-view-video-image").attr("src",chrome.runtime.getURL("/images/injected/eye.png")),$(".hv-embed-green-round").each(function(){$(this).css("background-image","url("+chrome.runtime.getURL("/images/injected/tick.png")+")")}),$(".hv-embed-widget").css("background","url("+chrome.extension.getURL("/images/injected/rectangle-bg.png")+")"),$(".hv-embed-loading-gif").attr("src",chrome.runtime.getURL("/images/injected/loading.gif")),$(".hv-embed-empty-video-img").attr("src",chrome.runtime.getURL("/images/injected/empty-hippo.png")),$(".hv-embed-compose-video-img").attr("src",chrome.runtime.getURL("/images/injected/compose-video.png")),$(".hv-embed-view-video-img").attr("src",chrome.runtime.getURL("/images/injected/view-my-vdo.png")),$(".hv-embed-guest-video-img").attr("src",chrome.runtime.getURL("/images/injected/get-vdo-reply.png")),$(".hv-embed-search-icon").attr("src",chrome.runtime.getURL("/images/injected/search-icon.png")),$(".hv-embed-icon-close").attr("src",chrome.runtime.getURL("/images/injected/icon-close.png"))))}function showCorrespondingWidget(e){currentWidgetType=e,"record"==e&&showRecordingPanel(),"library"==e&&showLibraryPanel(),"record_and_library"==e&&showHomePanel()}function showHomePanel(){$(".hv-embed-topbar-block").hide(),$(".hv-embed-recording-block").hide(),$(".hv-embed-library-block").hide(),$(".hv-embed-login-block").hide(),$(".hv-embed-filterbar").hide(),$(".hv-embed-popup-options-block").show(),$(".hv-embed-create-video-button").off("click"),$(".hv-embed-create-video-button").on("click",function(e){e.stopPropagation(),e.preventDefault(),sendUserActivity("clicked_create_video_option"),showRecordingPanel()}),$(".hv-embed-view-video-button").off("click"),$(".hv-embed-view-video-button").on("click",function(e){e.stopPropagation(),e.preventDefault(),sendUserActivity("clicked_video_library_option"),showLibraryPanel()}),ticketEnabled&&$(".hv-embed-guest-link-button").is(":hidden")&&(port.postMessage({getGuestLink:!0,integType:resolveIntegrationType(),messageFromContentScript1234:!0}),$(".hv-embed-guest-link-button").show(),$(".hv-embed-guest-link-button").off("click"),$(".hv-embed-guest-link-button").on("click",function(e){e.stopPropagation(),e.preventDefault(),sendUserActivity("clicked_guest_record_option"),addGuestLink()})),$(".hv-embed-create-video-button").on({mouseenter:function(e){changeIconColor("in","compose-video",e)},mouseleave:function(e){changeIconColor("out","compose-video",e)}}),$(".hv-embed-view-video-button").on({mouseenter:function(e){changeIconColor("in","view-my-vdo",e)},mouseleave:function(e){changeIconColor("out","view-my-vdo",e)}}),$(".hv-embed-guest-link-button").on({mouseenter:function(e){changeIconColor("in","get-vdo-reply",e)},mouseleave:function(e){changeIconColor("out","get-vdo-reply",e)}})}function changeIconColor(e,o,t){var i=$(t.currentTarget).find("img")[0];"in"==e?$(t.currentTarget).css("color","rgb(244, 122, 88)"):$(t.currentTarget).css("color","rgb(44, 44, 44)");var d="in"==e?chrome.extension.getURL("/images/injected/"+o+"-orange.png"):chrome.extension.getURL("/images/injected/"+o+".png");i.setAttribute("src",d)}function sendUserActivity(e){port.postMessage({trackDynamicIntegActivity:!0,integType:resolveIntegrationType(),actionName:e,messageFromContentScript1234:!0})}function addGuestLink(){var e=$(".hv-embed-guest-link-button").attr("data-url"),o=$(".hv-widget-container:visible").parent().attr("data-hvembedref");o=o||$(".hv-widget-container:visible").attr("data-hvembedref"),void 0!=e&&port.postMessage({askToInsertLink:!0,copyUrl:e,linkType:"guest",embedRef:o,integType:resolveIntegrationType(),messageFromContentScript1234:!0})}function loginClick(e){port.postMessage({openUrl:!0,url:e.data.url,messageFromContentScript1234:!0}),$(".hv-embed-widget").hide()}function showLibraryPanel(){isMyVideosEmpty=!1,isAllVideosEmpty=!1,currentMyVideoCategory=void 0,currentAllVideoCategory=void 0,$(".hv-embed-topbar-block").show(),$(".hv-embed-popup-options-block").hide(),$(".hv-embed-recording-block").hide(),$(".hv-embed-login-block").hide(),$(".hv-embed-library-block").show(),$(".hv-embed-filterbar").removeClass("hide"),$(".hv-embed-filterbar").show(),usersEnabled&&topBarEnabled&&!myVideosOnly?($(".hv-embed-tablink-video-count").show(),$(".hv-embed-tablinks").off("click"),$(".hv-embed-tablinks").on("click",toggleTab),$(".hv-embed-tab-myvideos").hasClass("active")?(currentTab="myvideos",handleMyVideo()):(currentTab="allvideos",handleAllVideo())):($(".hv-embed-library-tab").hide(),$(".hv-embed-topbar-video-count").show(),currentTab="myvideos",handleMyVideo()),$(".hv-embed-search-icon").off("click"),$(".hv-embed-search-icon").on("click",function(){$(".hv-embed-search-block").show(),$(".hv-embed-search-video").focus()}),$(".hv-embed-icon-close").off("click"),$(".hv-embed-icon-close").on("click",function(){$(".hv-embed-search-block").hide()}),$(".hv-embed-category-dropdown").on("change",handleCategoryChange),$(".hv-embed-search-video").on("keyup",function(e){13===e.keyCode&&searchVideo($(this).val())}),$(".hv-embed-topbar-logo").show(),$(".hv-embed-search-video").keypress(function(e){13==e.keyCode&&e.preventDefault()})}function handleCategoryChange(){var e;disableScrollLoad();var o=getCategoryId();$(".hv-embed-tab-myvideos").hasClass("active")?(e="self",$("#hv-embed-myvideos").attr("data-offset",0),$(".hv-embed-myvideos .hv-embed-myvideos-copy-key").fadeOut(function(){$(".hv-embed-myvideos .hv-embed-myvideos-copy-key").remove()}),$(".hv-embed-myvideos-empty-lib").hide(),currentMyVideoCategory=o):(e="all",$("#hv-embed-allvideos").attr("data-offset",0),$(".hv-embed-allvideos .hv-embed-allvideos-copy-key").fadeOut(function(){$(".hv-embed-allvideos .hv-embed-allvideos-copy-key").remove()}),$(".hv-embed-allvideos-empty-lib").hide(),currentAllVideoCategory=o),$(".hv-embed-category-dropdown").prop("disabled",!0),$(".hv-embed-video-loading").show(),port.postMessage({fetchVideos:!0,offset:0,fetchType:e,fetchCategories:shouldIFetchCategories(),categoryId:o,messageFromContentScript1234:!0})}function requestMyVideos(){var e=$("#hv-embed-myvideos").attr("data-offset");appendAllCategoryElem(!1),port.postMessage({fetchVideos:!0,offset:e,fetchCategories:shouldIFetchCategories(),categoryId:getCategoryId(),messageFromContentScript1234:!0})}function requestAllVideos(){var e=$("#hv-embed-allvideos").attr("data-offset");appendAllCategoryElem(!1),port.postMessage({fetchVideos:!0,fetchType:"all",offset:e,fetchCategories:shouldIFetchCategories(),categoryId:getCategoryId(),messageFromContentScript1234:!0})}function shouldIFetchCategories(){return!myVideosOnly&&$("#hv-embed-category-dropdown option").length<2}function getCategoryId(){return("0"==$(".hv-embed-category-dropdown").val()||!$(".hv-embed-category-dropdown").val())&&$(".hv-embed-category-dropdown").length>0?void 0:$(".hv-embed-category-dropdown").val()}function appendAllCategoryElem(e){if(categoriesAllowed){var o;o="education"==userType?"All Folders":"All Categories",selectedCategory=void 0;var t='<option value="0" selected>'+o+"</option>";$(".hv-embed-category-dropdown").prop("disabled",!0),(0==$(".hv-embed-category-dropdown option").length||e)&&$(".hv-embed-category-dropdown").prepend($(t))}else $(".hv-embed-category-dropdown").off("change"),$(".hv-embed-category-dropdown-Wrapper").hide()}function toggleTab(e){var o,t;for($(".hv-embed-lib-tabcontent").hide(),t=document.getElementsByClassName("hv-embed-tablinks"),tabName=e.currentTarget.getAttribute("data-tabName"),o=0;o<t.length;o++)t[o].className=t[o].className.replace(" active","");$("."+tabName).show();var i;e.currentTarget.className+=" active","hv-embed-myvideos"==tabName?(currentTab="myvideos",i=void 0==currentMyVideoCategory?0:currentMyVideoCategory,$(".hv-embed-category-dropdown").val(i),handleMyVideo()):(currentTab="allvideos",$(".hv-embed-video-loading").show(),i=void 0==currentAllVideoCategory?0:currentAllVideoCategory,$(".hv-embed-category-dropdown").val(i),handleAllVideo()),void 0==i&&(i=0),$(".hv-embed-category-dropdown").prop("disabled",!1)}function handleMyVideo(){$(".hv-embed-library-block .hv-embed-myvideos").show();var e=$(".hv-embed-myvideos:visible .hv-embed-myvideos-copy-key:visible").length;if(completedRecording)$(".hv-embed-myvideos").attr("data-offset",0),$(".hv-embed-allvideos").attr("data-offset",0),requestMyVideos(),requestAllVideos(),completedRecording=!1;else{var o=$(".hv-embed-myvideos:visible div").length;0==e&&!isMyVideosEmpty&&o<2?requestMyVideos():updateVideoCount()}(0==e&&isMyVideosEmpty||e>0)&&$(".hv-embed-video-loading").hide(),isMyVideosEmpty&&0==myVideoCount&&!$(".hv-embed-myvideos-empty-lib").is(":visible")&&$(".hv-embed-myvideos-empty-lib").show()}function handleAllVideo(){$(".hv-embed-library-block .hv-embed-allvideos").show();var e=$(".hv-embed-allvideos:visible div:visible").length;if(completedRecording)$(".hv-embed-myvideos").attr("data-offset",0),$(".hv-embed-allvideos").attr("data-offset",0),requestAllVideos(),requestMyVideos();else{var o=$(".hv-embed-allvideos:visible div").length;0==e&&!isAllVideosEmpty&&o<2?requestAllVideos():updateVideoCount()}(0==e&&isAllVideosEmpty||e>0)&&$(".hv-embed-video-loading").hide(),isAllVideosEmpty&&0==allVideoCount&&!$(".hv-embed-allvideos-empty-lib").is(":visible")&&$(".hv-embed-allvideos-empty-lib").show()}function addOnScrollListener(e,o){$(e).off("scroll"),$(e).scroll(function(){var e=Math.floor($(this).scrollTop()+$(this).height()),t=Math.ceil($(this).scrollTop()+$(this).height());if((e==$(this)[0].scrollHeight||t==$(this)[0].scrollHeight)&&0==$("#hv-"+o+"-lib-loadmore").length){var i=parseInt($(this).attr("data-offset"))+20;$(this).attr("data-offset",i),"myvideos"==o?requestMyVideos():requestAllVideos(),appendLoadMoreGif(this,o)}})}function populateVideoLibrary(e){var o=constructVideoNode(e);$(".hv-lib-loadmore").remove(),$(".hv-embed-category-dropdown").prop("disabled",!1),isLibraryEmpty()&&0==totalVideoCount?($(".hv-embed-"+e.type+"-empty-lib").show(),"myvideos"==e.type?isMyVideosEmpty=!0:isAllVideosEmpty=!0):("myvideos"==e.type?(0==parseInt($("#hv-embed-myvideos").attr("data-offset"))&&$(".hv-embed-myvideos .hv-embed-myvideos-copy-key").remove(),$(o).appendTo($(".hv-embed-myvideos")),addOnScrollListener($("#hv-embed-myvideos"),"myvideos")):"allvideos"==e.type&&(0==parseInt($("#hv-embed-allvideos").attr("data-offset"))&&$(".hv-embed-allvideos .hv-embed-allvideos-copy-key").remove(),$(o).appendTo($(".hv-embed-allvideos")),addOnScrollListener($("#hv-embed-allvideos"),"allvideos")),$(".hv-embed-"+e.type+"-copy-key").off("click"),$(".hv-embed-"+e.type+"-copy-key").on("click",sendCopyUrlToScript),$(".hv-embed-category-dropdown").prop("disabled",!1)),(currentLibCount<20||e.searchVideo)&&disableScrollLoad(),e.searchVideo||$("#hv-embed-search-video").val(""),updateVideoCount(),$(".hv-embed-video-loading").hide()}function isLibraryEmpty(){return myVideosOnly?0==$(".hv-embed-myvideos.hv-embed-tabcontent .hv-embed-list-view:visible").length:$(".hv-embed-tab-myvideos").hasClass("active")?0==$(".hv-embed-myvideos.hv-embed-tabcontent .hv-embed-list-view:visible").length:0==$(".hv-embed-allvideos.hv-embed-tabcontent .hv-embed-list-view:visible").length}function disableScrollLoad(){myVideosOnly?$("#hv-embed-myvideos").off("scroll"):$(".hv-embed-tab-myvideos").hasClass("active")?$("#hv-embed-myvideos").off("scroll"):$("#hv-embed-allvideos").off("scroll")}function updateVideoCount(){var e;e=myVideosOnly?"hv-embed-myvideos":$(".hv-embed-tablinks.active").attr("data-tabname");var o;o="hv-embed-myvideos"==e?myVideoCount:allVideoCount,void 0==o?$(".hv-embed-video-count").html("-"):$(".hv-embed-video-count").html(o)}function sendCopyUrlToScript(e){if(!$(e.target).hasClass("hv-embed-prev-button")){e.preventDefault(),e.stopPropagation();var o=e.currentTarget,t=$(o).attr("data-copyurl"),i=t?$("."+t):null,d=$(".hv-widget-container:visible").prev().attr("data-hvembedref");d=d||$(".hv-widget-container:visible").attr("data-hvembedref"),null!=i&&port.postMessage({askToInsertVideoLink:!0,copyUrl:$(i).attr("value"),imageUrl:$(i).attr("data-thumburl"),integType:resolveIntegrationType(),embedReference:d,messageFromContentScript1234:!0})}}function constructVideoNode(e){var o=e.library,t=e.categories,i=$(".hv-embed-library-template").html(),d=$(".hv-embed-category-template").html(),r="",a="";return currentLibCount=o.length,-1!=e.num_videos&&(totalVideoCount=e.num_videos,"allvideos"==e.type?allVideoCount=totalVideoCount:myVideoCount=totalVideoCount),void 0!=t&&($.each(t,function(e,o){a+=d.replace(/{{category_id}}/g,o.id).replace(/{{attribute}}/g,"").replace(/{{category_name}}/g,o.name)}),$(".hv-embed-category-dropdown").empty().append($(a)),appendAllCategoryElem(!0)),myVideosOnly&&$(".hv-embed-category-dropdown").remove(),$.each(o,function(o,t){hide_show_gif_tag="",6!=t.asset_type&&(hide_show_gif_tag="hv-embed-hide"),void 0!=t.thumb&&0!=t.thumb&&"false"!=t.thumb&&(r+=i.replace(/{{id}}/g,t.id).replace(/{{title}}/g,htmlEncode(t.title)).replace(/{{url}}/g,t.url).replace(/{{created_at}}/g,t.created_at).replace(/{{num_viewed}}/g,t.num_viewed).replace(/{{copy_id}}/g,e.type).replace(/{{thumb}}/g,t.thumb).replace(/{{thumb_url}}/g,t.thumbnail_url).replace(/{{hide_show}}/g,hide_show_gif_tag))}),r}function htmlEncode(e){return $("<div/>").text(e).html()}function showRecordingPanel(){"record_and_library"==currentWidgetType?($(".hv-embed-topbar-block").show(),$(".hv-embed-topbar-logo").show()):$(".hv-embed-topbar-block").hide(),$(".hv-embed-library-block").hide(),$(".hv-embed-login-block").hide(),$(".hv-embed-popup-options-block").hide(),$(".hv-embed-filterbar").hide(),$(".hv-embed-recording-block").show()}function searchVideo(e){disableScrollLoad();var o=!1;null!=e&&""!=e.trim()||(o=!0);var t;myVideosOnly?(t="self",$("#hv-embed-myvideos").attr("data-offset",0),$(".hv-embed-myvideos .hv-embed-myvideos-copy-key").fadeOut(function(){$(".hv-embed-myvideos .hv-embed-myvideos-copy-key").remove()}),$(".hv-embed-myvideos-empty-lib").hide(),o&&requestMyVideos()):$(".hv-embed-tab-myvideos").hasClass("active")?(t="self",$("#hv-embed-myvideos").attr("data-offset",0),$(".hv-embed-myvideos .hv-embed-myvideos-copy-key").fadeOut(function(){$(".hv-embed-myvideos .hv-embed-myvideos-copy-key").remove()}),$(".hv-embed-myvideos-empty-lib").hide(),o&&requestMyVideos()):(t="all",$("#hv-embed-allvideos").attr("data-offset",0),$(".hv-embed-allvideos .hv-embed-allvideos-copy-key").fadeOut(function(){$(".hv-embed-allvideos .hv-embed-allvideos-copy-key").remove()}),$(".hv-embed-allvideos-empty-lib").hide(),o&&requestAllVideos()),$(".hv-embed-category-dropdown").prop("disabled",!0),$(".hv-embed-video-loading").show(),o||port.postMessage({searchVideos:!0,fetchType:t,categoryId:getCategoryId(),searchValue:e.toLowerCase(),messageFromContentScript1234:!0})}function showHideEmptyVideo(){0==$(".hv-embed-"+currentTab+":visible .hv-embed-list-view:visible").length?$(".hv-embed-"+currentTab+"-empty-lib").show():$(".hv-embed-"+currentTab+"-empty-lib").hide()}function appendLoadMoreGif(e,o){$('<div id="hv-'+o+'-lib-loadmore" class="hv-lib-loadmore"><div class="hv-loadmore"></div></div>').appendTo($(e))}function resolveIntegrationType(){return"classroom.google.com"==location.host?"google-classroom":location.href.includes("brightspace")||location.href.includes("elearningontario.ca")||location.href.includes("dsbntest.desire2learn.com")?"d2l":"mail.google.com"==location.host?"gmail":location.host.includes(".slack.com")?"slack":"trello.com"==location.host?"trello":location.host.includes(".atlassian.net")?"jira":location.host.includes(".freshsales.io")?"freshsales":"web.freshchat.com"==location.host?"freshchat":void 0}var injectedAlready=document.getElementById("hippowiz-record-lib-widget-js-injected");if(!injectedAlready){var totalVideoCount,curentTab,ticketEnabled,usersEnabled,topBarEnabled,currentWidgetType,myVideoCount=0,allVideoCount=0,currentLibCount=0,myVideosOnly,completedRecording=!1,isMyVideosEmpty=!1,isAllVideosEmpty=!1,currentMyVideoCategory,currentAllVideoCategory,userType,categoriesAllowed,selectedCategory,authRequested=!1,hippoWidgetJsInjected='<input type=hidden id="hippowiz-record-lib-widget-js-injected" value=true />',canAllowScreenRecord=!0;$(hippoWidgetJsInjected).appendTo("body");var local="cijidiollmnkegoghpfobabpecdkeiah"!==chrome.runtime.id,port,server=local?"http://localhost:3000":"https://www.hippovideo.io",recordConfiguration,audioDeviceAvailable=!0,videoDeviceAvailable=!0,authToken,userEmail,digest,allUrlsPermission=!0,userPreferences={showAdvanced:!0,webcamVisible:!0,webcamPreview:!0,systemAudio:!0,webcamShape:"rectangle"};$(document).ready(function(){port=chrome.extension.connect({name:"widgetScript"}),initialize()})}