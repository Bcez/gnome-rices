function onPageLoad(e){function t(){document.removeEventListener("DOMContentLoaded",e),window.removeEventListener("load",e),e()}"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?t():(document.addEventListener("DOMContentLoaded",t),window.addEventListener("load",t))}function onPageLoaded(){MutationObserver=window.MutationObserver||window.WebKitMutationObserver,new MutationObserver(function(e,t){for(var n in e){if(e[n].target.classList.contains("cke_button")&&!document.getElementById("hv_dynamics_widget")){var o=document.getElementsByClassName("cke_button__bold")[0].parentElement;"cke_toolbar cke_toolbar_last"==o.parentElement.className&&injectIcon("cke_toolgroup","presentation",o),"cke_toolbar"==o.parentElement.className&&(o=o.parentElement,injectIcon("cke_toolbar","toolbar",o))}}}).observe(document,{subtree:!0,childlist:!0,attributes:!0}),void 0==runtimePort&&(runtimePort=chrome.runtime.connect({name:"dynamics_iframe_handler"}),runtimePort.onMessage.addListener(function(e,t,n){e.backgroundRecordingMessage}))}function injectIcon(e,t,n){var o=document.createElement("span");o.id="hv_dynamics_widget",o.className=e,o.role=t,o.innerHTML=HTML_CONTENT.hippo_button,n.before(o),o.addEventListener("click",initiateWorkflowPop)}function initiateWorkflowPop(){var e={type:"hv_init_workflow_pop"};parent.postMessage(e,"*")}function getStyleHtmlToCopy(e,t){return'<a href="'+e+'" target="_blank"><img src="'+t+'" style="min-height: 180px; max-height: 200px; max-width: 360px; cursor: pointer; object-fit: cover: object-position: top;"></a><br/><div><a href="'+e+'" target="_blank" style="text-decoration: none;color: rgb(78, 167, 188);">Watch Video</a></div>'}var injectedAlready=document.getElementById("hv-dynamics-handler-injected"),runtimePort,HTML_CONTENT={hippo_button:'<span class="cke_toolbar_start"></span><span class="cke_toolgroup" role="presentation"><a id="cke_18" class="cke_button cke_button__bold cke_button_off" href="javascript:void(\'0\')" title="Hippo Video" tabindex="-1" hidefocus="true" role="button" aria-haspopup="false" aria-disabled="false"><img src="'+chrome.extension.getURL("/images/injected/video-icon-orange-small.svg")+'" width="12" height="12"><span id="cke_18_label" class="cke_button_label" aria-hidden="false">Hippo Video</span><span id="cke_18_description" class="cke_button_label" aria-hidden="false">Record Video</span></a></span><span class="cke_toolbar_end"></span>'};if(window.frameElement&&!injectedAlready){var hippowizExtension=document.createElement("input");hippowizExtension.type="hidden",hippowizExtension.id="hv-dynamics-handler-injected",hippowizExtension.value="true",document.body.appendChild(hippowizExtension),onPageLoad(onPageLoaded)}