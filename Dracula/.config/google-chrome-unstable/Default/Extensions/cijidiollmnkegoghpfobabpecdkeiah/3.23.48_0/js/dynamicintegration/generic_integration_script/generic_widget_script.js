var injectedAlready=document.getElementById("hv-generic-dynamic-script-injected");if(!injectedAlready){var INIT_INTEGRATION_WIDGET="hv_init_integration_widget",INIT_REPORTS_WIDGET="hv_init_reports_widget",INSERT_VIDEO="hv_insert_video",PROCEED_WITH_COPY_TO_CLIPBOARD="hv_proceed_copy_to_clipboard",copyToClipboard=void 0,scriptInjected='<input type=hidden id="hv-generic-dynamic-script-injected" value=true/>';$(scriptInjected).appendTo("body");var copyToClipboardBtn='<button class="copy-to-clipboard" data-clipboard-target="#copy-to-clipboard-btn" style="display:none;"></button>';$(copyToClipboardBtn).appendTo("body"),console.log("injected generic-dynamic script"),$(document).ready(function(){function e(e){var t=document.getElementById(e);if(t&&t.getAttribute("value"))return t.getAttribute("value")}function t(){return{serviceName:s.serviceName,windowId:s.windowId,tabId:s.tabId}}function o(e){copyToClipboard&&copyToClipboard.destroy(),jQuery(function(){jQuery(".copy-to-clipboard").click()}),copyToClipboard=new ClipboardJS(".copy-to-clipboard",{target:function(){return a(e)}}),copyToClipboard.on("success",function(e){$("#copyLinkWithThumbnailTarget").remove()})}function a(e){return $("#copyLinkWithThumbnailTarget").remove(),$("body").append('<div id="copyLinkWithThumbnailTarget" aria-hidden="true" tabindex="-1" >'+e+"</div>"),document.querySelector("#copyLinkWithThumbnailTarget")}function i(e){var t=e.workflowConfig;t.popConfig.isMailFlow?d(t):n(!1)}function n(e){window.postMessage({type:INSERT_VIDEO,messageData:e},"*")}function r(e){var o=t();o.messageFromContentScript1234=!0,o.initWorkflowPop=!0,o.msgType="workflow",o.payload=e,o.payload.logPrefix=s.logPrefix,s.port.postMessage(o)}function c(e){var o=t();o.messageFromContentScript1234=!0,o.initReportPop=!0,o.randomId=e.randomId,o.msgType="workflow",o.reportBtn="hv-integration-reports",o.contactEmail=e.contactEmail,o.contactName=e.contactName,o.payload={popId:e.reportsPopupId,logPrefix:s.logPrefix},s.port.postMessage(o)}function d(e){var o=t();o.messageFromContentScript1234=!0,o.messageType="get_utm_token",o.getUTMToken=!0,o.popId=e.popId,o.content=e,o.serviceName=s.serviceName,s.port.postMessage(o)}var s=function(){var t={};return t.serviceName=e("hvIntegName"),t.windowId=Number(e("hvWindowId")),t.tabId=Number(e("hvTabId")),t.logPrefix=t.serviceName.toUpperCase()+" :: ",t.port=chrome.extension.connect({name:t.serviceName+"::"+t.windowId+"::"+t.tabId}),t}();!function(){var e=t();e.messageFromContentScript1234=!0,e.injectHvWorkflowScripts=!0,s.port.postMessage(e)}();var p=document.createElement("script");p.src="https://static-assets.hippovideo.io/dynamic-integrations/generic_scripts/external_generic_script.js",(document.head||document.documentElement).appendChild(p);var m=document.createElement("script");m.src="https://static-assets.hippovideo.io/dynamic-integrations/dynamic_scripts/"+s.serviceName+"/"+s.serviceName+".js",(document.head||document.documentElement).appendChild(m);var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.href="https://static-assets.hippovideo.io/dynamic-integrations/dynamic_scripts/"+s.serviceName+"/"+s.serviceName+".css",(document.head||document.documentElement).appendChild(l),window.addEventListener("message",function(e){e.data.type&&(e.data.type==INIT_INTEGRATION_WIDGET&&r(e.data.msgData.payload),e.data.type==INIT_REPORTS_WIDGET&&c(e.data.msgData),e.data.type==PROCEED_WITH_COPY_TO_CLIPBOARD&&o(e.data.msgData.playLinkElement))},!1),s.port.onMessage.addListener(function(e,t,o){msgFromPort=e.backgroundRecordingMessage,"insertFromWorkflowPop"==msgFromPort&&e.data.serviceName==s.serviceName&&e.data.tabId==s.tabId&&i(e.data),"insertVideoViaGenericScript"==msgFromPort&&e.data.serviceName==s.serviceName&&e.data.tabId==s.tabId&&n(e.data)})})}