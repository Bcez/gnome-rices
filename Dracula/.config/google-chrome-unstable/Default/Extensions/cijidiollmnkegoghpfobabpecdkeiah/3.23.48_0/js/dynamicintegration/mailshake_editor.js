function onPageLoad(e){function n(){document.removeEventListener("DOMContentLoaded",e),window.removeEventListener("load",e),e()}"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?n():(document.addEventListener("DOMContentLoaded",n),window.addEventListener("load",n))}function onPageLoaded(){void 0==runtimePort&&(runtimePort=chrome.runtime.connect({name:"mailshake_editor"}),runtimePort.onMessage.addListener(function(e,n,t){var o=e.backgroundRecordingMessage;if(o&&o.mailshakeEditorAction&&"prepend"==o.editorAction){document.getElementsByTagName("body")[0].getAttribute("data-id")==o.iframeId.split("_")[0]&&(document.getElementsByTagName("body")[0].innerHTML=document.getElementsByTagName("body")[0].innerHTML+o.content)}}))}var injectedAlready=document.getElementById("hv-mailshake-editor-injected"),runtimePort;if(window.frameElement&&!injectedAlready){var hippowizExtension=document.createElement("input");hippowizExtension.type="hidden",hippowizExtension.id="hv-mailshake-editor-injected",hippowizExtension.value="true",document.body.appendChild(hippowizExtension),onPageLoad(onPageLoaded)}