(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{519:function(e,s,t){"use strict";t.d(s,"a",(function(){return n})),t.d(s,"b",(function(){return a}));t(17),t(19);var i=t(15),o=t.n(i);class n{constructor(){this._caches={},this._setCaches=e=>(...s)=>{this._caches[e]=s}}}const r=[],a=e=>new Proxy(e,{set:(e,s,t)=>null===t?(e[s]=t,!0):"function"==typeof e[s]?(console.warn("失败：重复注册"),!0):(e[s]=t,o()(r).call(r,s)&&delete e._caches[s],e._caches.hasOwnProperty(s)&&(e[s](...e._caches[s]),delete e._caches[s]),!0),get:(e,s)=>"function"==typeof e[s]?e[s]:e._setCaches(s)})},605:function(e,s,t){"use strict";t.r(s),t.d(s,"pluginStore",(function(){return h}));var i=t(15),o=t.n(i),n=(t(17),t(19),t(11),t(4)),r=t(102),a=t(519);class c extends a.a{opened(e){}}const p=Object(a.b)(new c);var l=function(e,s,t,i){var o,n=arguments.length,r=n<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,s,t,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(n<3?o(r):n>3?o(s,t,r):o(s,t))||r);return n>3&&r&&Object.defineProperty(s,t,r),r};class u{constructor(){this.pluginsMap={"infinity://weather":"side-weather","infinity://todos":"side-todos","infinity://notes":"side-notes","infinity://history":"side-history","infinity://bookmarks":"side-bookmarks","infinity://extension":"side-extension","infinity://chrome-apps":"chrome-apps","infinity://wallpaper":"wallpaper","infinity://settings":"side-profile",search:"side-search",profile:"side-profile",editIcon:"side-editicon","side-tutorial":"side-tutorial"},this.pluginsTags={"side-weather":!1,"side-todos":!1,"side-notes":!1,"side-history":!1,"side-bookmarks":!1,"side-extension":!1,"chrome-apps":!1,"side-profile":!1,"side-search":!1,"side-editicon":!1,"side-tutorial":!1,wallpaper:!1},this.pluginViews=[],this.focusRepair=!1,Object(n.h)(()=>this.pluginViews.map(e=>e),([e])=>{p.opened(e)})}initDom(e){this.pluginsTags[e]=!0}async show(e){var s;if(o()(s=this.pluginViews).call(s,e))return;const t=this.pluginsMap[e];if(!1===this.pluginsTags[t])try{await this.requestPermission(t),Object(n.i)(()=>{this.pluginsTags[t]=!0,this.pluginViews.push(e)})}catch(e){}else this.pluginViews.push(e)}async showRepair(){this.focusRepair=!0,this.show("profile"),localStorage.setItem("user-checkout-old-data","true")}blurRepair(){this.focusRepair=!1}requestPermission(e){switch(e){case"side-bookmarks":return r.a.request(["bookmarks"],["chrome://favicon/"]);case"side-extension":case"chrome-apps":return r.a.request(["management"]);case"side-history":return r.a.request(["history"],["chrome://favicon/"])}}hideLast(){const e=this.pluginViews.pop();return 0===this.pluginViews.length&&document.getElementsByTagName("newtab-main")[0].shadowRoot.querySelector(".swiper-content").style.setProperty("transform","none"),e}}l([n.g],u.prototype,"pluginsTags",void 0),l([n.b],u.prototype,"initDom",null),l([n.g],u.prototype,"pluginViews",void 0),l([n.g],u.prototype,"focusRepair",void 0),l([n.b],u.prototype,"show",null),l([n.b],u.prototype,"showRepair",null),l([n.b],u.prototype,"blurRepair",null),l([n.b],u.prototype,"hideLast",null);const h=new u}}]);