(function(a){"use strict";var b=function(a,c,d){function e(){g.removeEventListener("load",e,!1),g.removeEventListener("error",f,!1),i&&(!d||!d.noRevoke)&&b.revokeObjectURL(i),c&&c(b.scale(g,d)),g=null}function f(){g.removeEventListener("error",f,!1),g.removeEventListener("load",e,!1),c.apply(this,arguments)}var g=document.createElement("img"),h,i;g.addEventListener("load",e,!1),g.addEventListener("error",f,!1);if(b.isInstanceOf("Blob",a)||b.isInstanceOf("File",a))h=i=b.createObjectURL(a),g._type=a.type;else{if(typeof a!="string")return!1;h=a,d&&d.crossOrigin&&(g.crossOrigin=d.crossOrigin)}return h?(g.src=h,g):b.readFile(a,function(a){var b=a.target;b&&b.result?g.src=b.result:c&&c(a)})},c=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;b.isInstanceOf=function(a,b){return Object.prototype.toString.call(b)==="[object "+a+"]"},b.transformCoordinates=function(){return},b.getTransformedOptions=function(a){return a},b.renderImageToCanvas=function(a,b,c,d,e,f,g,h,i,j){return a.getContext("2d").drawImage(b,c,d,e,f,g,h,i,j),a},b.hasCanvasOption=function(a){return a.canvas||a.crop},b.scale=function(a,c){c=c||{};var d=document.createElement("canvas"),e=a.getContext||b.hasCanvasOption(c)&&d.getContext,f=a.naturalWidth||a.width,g=a.naturalHeight||a.height,h=f,i=g,j,k,l,m,n,o,p,q,r,s=function(){var a=Math.max((l||h)/h,(m||i)/i);a>1&&(h=Math.ceil(h*a),i=Math.ceil(i*a))},t=function(){var a=Math.min((j||h)/h,(k||i)/i);a<1&&(h=Math.ceil(h*a),i=Math.ceil(i*a))};e&&(c=b.getTransformedOptions(c),p=c.left||0,q=c.top||0,c.sourceWidth?(n=c.sourceWidth,c.right!==undefined&&c.left===undefined&&(p=f-n-c.right)):n=f-p-(c.right||0),c.sourceHeight?(o=c.sourceHeight,c.bottom!==undefined&&c.top===undefined&&(q=g-o-c.bottom)):o=g-q-(c.bottom||0),h=n,i=o),j=c.maxWidth,k=c.maxHeight,l=c.minWidth,m=c.minHeight;if(e&&j&&k&&c.crop)h=j,i=k,r=n/o-j/k,r<0?(o=k*n/j,c.top===undefined&&c.bottom===undefined&&(q=(g-o)/2)):r>0&&(n=j*o/k,c.left===undefined&&c.right===undefined&&(p=(f-n)/2));else{if(c.contain||c.cover)l=j=j||l,m=k=k||m;c.cover?(t(),s()):(s(),t())}return e?(d.width=h,d.height=i,b.transformCoordinates(d,c),b.renderImageToCanvas(d,a,p,q,n,o,0,0,h,i)):(a.width=h,a.height=i,a)},b.createObjectURL=function(a){return c?c.createObjectURL(a):!1},b.revokeObjectURL=function(a){return console.log("REVOKE",a),c?c.revokeObjectURL(a):!1},b.readFile=function(a,b,c){function d(){f.removeEventListener("load",d,!1),f.removeEventListener("error",e,!1),b.apply(this,arguments)}function e(){f.removeEventListener("error",e,!1),f.removeEventListener("load",d,!1),b.apply(this,arguments)}if(window.FileReader){var f=new FileReader;f.addEventListener("load",d,!1),f.addEventListener("error",e,!1),c=c||"readAsDataURL";if(f[c])return f[c](a),f}return!1},typeof define=="function"&&define.amd?define(function(){return b}):a.loadImage=b})(this),function(a){"use strict",typeof define=="function"&&define.amd?define(["load-image"],a):a(window.loadImage)}(function(a){"use strict";var b=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);a.blobSlice=b&&function(){var a=this.slice||this.webkitSlice||this.mozSlice;return a.apply(this,arguments)},a.metaDataParsers={jpeg:{65505:[]}},a.parseMetaData=function(b,c,d){d=d||{};var e=this,f=d.maxMetaDataSize||262144,g={},h=!(window.DataView&&b&&b.size>=12&&b.type==="image/jpeg"&&a.blobSlice);(h||!a.readFile(a.blobSlice.call(b,0,f),function(b){if(b.target.error){console.log(b.target.error),c(g,{error:!0});return}var f=b.target.result,h=new DataView(f),i=2,j=h.byteLength-4,k=i,l,m,n,o;if(h.getUint16(0)===65496){while(i<j){l=h.getUint16(i);if(!(l>=65504&&l<=65519||l===65534))break;m=h.getUint16(i+2)+2;if(i+m>h.byteLength){console.log("Invalid meta data: Invalid segment size.");break}n=a.metaDataParsers.jpeg[l];if(n)for(o=0;o<n.length;o+=1)n[o].call(e,h,i,m,g,d);i+=m,k=i}!d.disableImageHead&&k>6&&(f.slice?g.imageHead=f.slice(0,k):g.imageHead=(new Uint8Array(f)).subarray(0,k))}else console.log("Invalid JPEG file: Missing JPEG marker.");c(g)},"readAsArrayBuffer"))&&c(g)}}),function(a){"use strict",typeof define=="function"&&define.amd?define(["load-image","load-image-meta"],a):a(window.loadImage)}(function(a){"use strict",a.ExifMap=function(){return this},a.ExifMap.prototype.map={Orientation:274},a.ExifMap.prototype.get=function(a){return this[a]||this[this.map[a]]},a.getExifThumbnail=function(a,b,c){var d,e,f;if(!c||b+c>a.byteLength){console.log("Invalid Exif data: Invalid thumbnail data.");return}d=[];for(e=0;e<c;e+=1)f=a.getUint8(b+e),d.push((f<16?"0":"")+f.toString(16));return"data:image/jpeg,%"+d.join("%")},a.exifTagTypes={1:{getValue:function(a,b){return a.getUint8(b)},size:1},2:{getValue:function(a,b){return String.fromCharCode(a.getUint8(b))},size:1,ascii:!0},3:{getValue:function(a,b,c){return a.getUint16(b,c)},size:2},4:{getValue:function(a,b,c){return a.getUint32(b,c)},size:4},5:{getValue:function(a,b,c){return a.getUint32(b,c)/a.getUint32(b+4,c)},size:8},9:{getValue:function(a,b,c){return a.getInt32(b,c)},size:4},10:{getValue:function(a,b,c){return a.getInt32(b,c)/a.getInt32(b+4,c)},size:8}},a.exifTagTypes[7]=a.exifTagTypes[1],a.getExifValue=function(b,c,d,e,f,g){var h=a.exifTagTypes[e],i,j,k,l,m,n;if(!h){console.log("Invalid Exif data: Invalid tag type.");return}i=h.size*f,j=i>4?c+b.getUint32(d+8,g):d+8;if(j+i>b.byteLength){console.log("Invalid Exif data: Invalid data offset.");return}if(f===1)return h.getValue(b,j,g);k=[];for(l=0;l<f;l+=1)k[l]=h.getValue(b,j+l*h.size,g);if(h.ascii){m="";for(l=0;l<k.length;l+=1){n=k[l];if(n==="\0")break;m+=n}return m}return k},a.parseExifTag=function(b,c,d,e,f){var g=b.getUint16(d,e);f.exif[g]=a.getExifValue(b,c,d,b.getUint16(d+2,e),b.getUint32(d+4,e),e)},a.parseExifTags=function(a,b,c,d,e){var f,g,h;if(c+6>a.byteLength){console.log("Invalid Exif data: Invalid directory offset.");return}f=a.getUint16(c,d),g=c+2+12*f;if(g+4>a.byteLength){console.log("Invalid Exif data: Invalid directory size.");return}for(h=0;h<f;h+=1)this.parseExifTag(a,b,c+2+12*h,d,e);return a.getUint32(g,d)},a.parseExifData=function(b,c,d,e,f){if(f.disableExif)return;var g=c+10,h,i,j;if(b.getUint32(c+4)!==1165519206)return;if(g+8>b.byteLength){console.log("Invalid Exif data: Invalid segment size.");return}if(b.getUint16(c+8)!==0){console.log("Invalid Exif data: Missing byte alignment offset.");return}switch(b.getUint16(g)){case 18761:h=!0;break;case 19789:h=!1;break;default:console.log("Invalid Exif data: Invalid byte alignment marker.");return}if(b.getUint16(g+2,h)!==42){console.log("Invalid Exif data: Missing TIFF marker.");return}i=b.getUint32(g+4,h),e.exif=new a.ExifMap,i=a.parseExifTags(b,g,g+i,h,e),i&&!f.disableExifThumbnail&&(j={exif:{}},i=a.parseExifTags(b,g,g+i,h,j),j.exif[513]&&(e.exif.Thumbnail=a.getExifThumbnail(b,g+j.exif[513],j.exif[514]))),e.exif[34665]&&!f.disableExifSub&&a.parseExifTags(b,g,g+e.exif[34665],h,e),e.exif[34853]&&!f.disableExifGps&&a.parseExifTags(b,g,g+e.exif[34853],h,e)},a.metaDataParsers.jpeg[65505].push(a.parseExifData)}),function(a){"use strict",typeof define=="function"&&define.amd?define(["load-image","load-image-exif"],a):a(window.loadImage)}(function(a){"use strict",a.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},a.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},a.ExifMap.prototype.getText=function(a){var b=this.get(a);switch(a){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[a][b];case"ExifVersion":case"FlashpixVersion":return String.fromCharCode(b[0],b[1],b[2],b[3]);case"ComponentsConfiguration":return this.stringValues[a][b[0]]+this.stringValues[a][b[1]]+this.stringValues[a][b[2]]+this.stringValues[a][b[3]];case"GPSVersionID":return b[0]+"."+b[1]+"."+b[2]+"."+b[3]}return String(b)},function(a){var b=a.tags,c=a.map,d;for(d in b)b.hasOwnProperty(d)&&(c[b[d]]=d)}(a.ExifMap.prototype),a.ExifMap.prototype.getAll=function(){var a={},b,c;for(b in this)this.hasOwnProperty(b)&&(c=this.tags[b],c&&(a[c]=this.getText(c)));return a}}),function(a){"use strict",typeof define=="function"&&define.amd?define(["load-image"],a):a(window.loadImage)}(function(a){"use strict";var b=a.hasCanvasOption;a.hasCanvasOption=function(a){return b(a)||a.orientation},a.transformCoordinates=function(a,b){var c=a.getContext("2d"),d=a.width,e=a.height,f=b.orientation;if(!f)return;f>4&&(a.width=e,a.height=d);switch(f){case 2:c.translate(d,0),c.scale(-1,1);break;case 3:c.translate(d,e),c.rotate(Math.PI);break;case 4:c.translate(0,e),c.scale(1,-1);break;case 5:c.rotate(.5*Math.PI),c.scale(1,-1);break;case 6:c.rotate(.5*Math.PI),c.translate(0,-e);break;case 7:c.rotate(.5*Math.PI),c.translate(d,-e),c.scale(-1,1);break;case 8:c.rotate(-0.5*Math.PI),c.translate(-d,0)}},a.getTransformedOptions=function(a){if(!a.orientation||a.orientation===1)return a;var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);switch(a.orientation){case 2:b.left=a.right,b.right=a.left;break;case 3:b.left=a.right,b.top=a.bottom,b.right=a.left,b.bottom=a.top;break;case 4:b.top=a.bottom,b.bottom=a.top;break;case 5:b.left=a.top,b.top=a.left,b.right=a.bottom,b.bottom=a.right;break;case 6:b.left=a.top,b.top=a.right,b.right=a.bottom,b.bottom=a.left;break;case 7:b.left=a.bottom,b.top=a.right,b.right=a.top,b.bottom=a.left;break;case 8:b.left=a.bottom,b.top=a.left,b.right=a.top,b.bottom=a.right}return a.orientation>4&&(b.maxWidth=a.maxHeight,b.maxHeight=a.maxWidth,b.minWidth=a.minHeight,b.minHeight=a.minWidth,b.sourceWidth=a.sourceHeight,b.sourceHeight=a.sourceWidth),b}}),function(){"use strict";var a,b=b||{},c=this,d=function(a){return void 0!==a},e=function(){},f=function(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&"undefined"==typeof a.call)return"object";return b},g=function(a){return"array"==f(a)},h=function(a){var b=f(a);return"array"==b||"object"==b&&"number"==typeof a.length},i=function(a){return"string"==typeof a},j=function(a){return"number"==typeof a},k=function(a){return"function"==f(a)},l=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},m=function(a,b,c){return a.call.apply(a.bind,arguments)},n=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,d),a.apply(b,c)}}return function(){return a.apply(b,arguments)}},o=function(a,b,c){return o=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:n,o.apply(null,arguments)},p=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();return b.push.apply(b,arguments),a.apply(this,b)}},q=Date.now||function(){return+(new Date)},r=function(a,b){var e=a.split("."),f=c;e[0]in f||!f.execScript||f.execScript("var "+e[0]);for(var g;e.length&&(g=e.shift());)!e.length&&d(b)?f[g]=b:f=f[g]?f[g]:f[g]={}},s=function(a,b){function c(){}c.prototype=b.prototype,a.P=b.prototype,a.prototype=new c,a.ie=function(a,c,d){for(var e=Array(arguments.length-2),f=2;f<arguments.length;f++)e[f-2]=arguments[f];return b.prototype[c].apply(a,e)}};Function.prototype.bind=Function.prototype.bind||function(a,b){if(1<arguments.length){var c=Array.prototype.slice.call(arguments,1);return c.unshift(this,a),o.apply(null,c)}return o(this,a)};var t=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};s(t,Error),t.prototype.name="CustomError";var u=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},v=function(a,b){return a<b?-1:a>b?1:0},w=Array.prototype,x=w.indexOf?function(a,b,c){return w.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(i(a))return i(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},y=w.forEach?function(a,b,c){w.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=i(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},z=w.some?function(a,b,c){return w.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=i(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1},A=w.every?function(a,b,c){return w.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=i(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0},B=function(a){var b;a:{b=ze;for(var c=a.length,d=i(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:i(a)?a.charAt(b):a[b]},C=function(a,b){var c=x(a,b),d;return(d=0<=c)&&w.splice.call(a,c,1),d},D=function(a){return w.concat.apply(w,arguments)},E=function(a,b,c){return 2>=arguments.length?w.slice.call(a,b):w.slice.call(a,b,c)},F="StopIteration"in c?c.StopIteration:Error("StopIteration"),G=function(){};G.prototype.next=function(){throw F},G.prototype.Sb=function(){return this};var H=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)},I=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},J=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},K=function(a,b){var c;a:{for(c in a)if(b.call(void 0,a[c],c,a))break a;c=void 0}return c&&a[c]},L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),M=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<L.length;f++)c=L[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}},N=function(a){var b=arguments.length;if(1==b&&g(arguments[0]))return N.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c},O=function(a,b){this.p={},this.b=[],this.Ja=this.j=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.ha(a)};O.prototype.t=function(){P(this);for(var a=[],b=0;b<this.b.length;b++)a.push(this.p[this.b[b]]);return a},O.prototype.H=function(){return P(this),this.b.concat()},O.prototype.T=function(a){return Q(this.p,a)},O.prototype.remove=function(a){return Q(this.p,a)?(delete this.p[a],this.j--,this.Ja++,this.b.length>2*this.j&&P(this),!0):!1};var P=function(a){if(a.j!=a.b.length){for(var b=0,c=0;b<a.b.length;){var d=a.b[b];Q(a.p,d)&&(a.b[c++]=d),b++}a.b.length=c}if(a.j!=a.b.length){for(var e={},c=b=0;b<a.b.length;)d=a.b[b],Q(e,d)||(a.b[c++]=d,e[d]=1),b++;a.b.length=c}};a=O.prototype,a.get=function(a,b){return Q(this.p,a)?this.p[a]:b},a.set=function(a,b){Q(this.p,a)||(this.j++,this.b.push(a),this.Ja++),this.p[a]=b},a.ha=function(a){var b;a instanceof O?(b=a.H(),a=a.t()):(b=J(a),a=I(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])},a.forEach=function(a,b){for(var c=this.H(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}},a.clone=function(){return new O(this)},a.Nb=function(){P(this);for(var a={},b=0;b<this.b.length;b++){var c=this.b[b];a[c]=this.p[c]}return a},a.Sb=function(a){P(this);var b=0,c=this.b,d=this.p,e=this.Ja,f=this,g=new G;return g.next=function(){for(;;){if(e!=f.Ja)throw Error("The map has changed since the iterator was created");if(b>=c.length)throw F;var g=c[b++];return a?g:d[g]}},g};var Q=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},R,S,T={id:"hitType",name:"t",valueType:"text",maxLength:void 0,defaultValue:void 0},U={id:"sessionControl",name:"sc",valueType:"text",maxLength:void 0,defaultValue:void 0},V={id:"description",name:"cd",valueType:"text",maxLength:2048,defaultValue:void 0},W={id:"eventCategory",name:"ec",valueType:"text",maxLength:150,defaultValue:void 0},X={id:"eventAction",name:"ea",valueType:"text",maxLength:500,defaultValue:void 0},Y={id:"eventLabel",name:"el",valueType:"text",maxLength:500,defaultValue:void 0},Z={id:"eventValue",name:"ev",valueType:"integer",maxLength:void 0,defaultValue:void 0},$={zd:T,$c:{id:"anonymizeIp",name:"aip",valueType:"boolean",maxLength:void 0,defaultValue:void 0},Kd:{id:"queueTime",name:"qt",valueType:"integer",maxLength:void 0,defaultValue:void 0},fd:{id:"cacheBuster",name:"z",valueType:"text",maxLength:void 0,defaultValue:void 0},Qd:U,Rd:{id:"sessionGroup",name:"sg",valueType:"text",maxLength:void 0,defaultValue:void 0},ge:{id:"userId",name:"uid",valueType:"text",maxLength:void 0,defaultValue:void 0},Hd:{id:"nonInteraction",name:"ni",valueType:"boolean",maxLength:void 0,defaultValue:void 0},qd:V,$d:{id:"title",name:"dt",valueType:"text",maxLength:1500,defaultValue:void 0},bd:{id:"appId",name:"aid",valueType:"text",maxLength:150,defaultValue:void 0},cd:{id:"appInstallerId",name:"aiid",valueType:"text",maxLength:150,defaultValue:void 0},td:W,sd:X,ud:Y,vd:Z,Td:{id:"socialNetwork",name:"sn",valueType:"text",maxLength:50,defaultValue:void 0},Sd:{id:"socialAction",name:"sa",valueType:"text",maxLength:50,defaultValue:void 0},Ud:{id:"socialTarget",name:"st",valueType:"text",maxLength:2048,defaultValue:void 0},ce:{id:"transactionId",name:"ti",valueType:"text",maxLength:500,defaultValue:void 0},be:{id:"transactionAffiliation",name:"ta",valueType:"text",maxLength:500,defaultValue:void 0},de:{id:"transactionRevenue",name:"tr",valueType:"currency",maxLength:void 0,defaultValue:void 0},ee:{id:"transactionShipping",name:"ts",valueType:"currency",maxLength:void 0,defaultValue:void 0},fe:{id:"transactionTax",name:"tt",valueType:"currency",maxLength:void 0,defaultValue:void 0},od:{id:"currencyCode",name:"cu",valueType:"text",maxLength:10,defaultValue:void 0},Dd:{id:"itemPrice",name:"ip",valueType:"currency",maxLength:void 0,defaultValue:void 0},Ed:{id:"itemQuantity",name:"iq",valueType:"integer",maxLength:void 0,defaultValue:void 0},Bd:{id:"itemCode",name:"ic",valueType:"text",maxLength:500,defaultValue:void 0},Cd:{id:"itemName",name:"in",valueType:"text",maxLength:500,defaultValue:void 0},Ad:{id:"itemCategory",name:"iv",valueType:"text",maxLength:500,defaultValue:void 0},md:{id:"campaignSource",name:"cs",valueType:"text",maxLength:100,defaultValue:void 0},kd:{id:"campaignMedium",name:"cm",valueType:"text",maxLength:50,defaultValue:void 0},ld:{id:"campaignName",name:"cn",valueType:"text",maxLength:100,defaultValue:void 0},jd:{id:"campaignKeyword",name:"ck",valueType:"text",maxLength:500,defaultValue:void 0},gd:{id:"campaignContent",name:"cc",valueType:"text",maxLength:500,defaultValue:void 0},hd:{id:"campaignId",name:"ci",valueType:"text",maxLength:100,defaultValue:void 0},yd:{id:"gclid",name:"gclid",valueType:"text",maxLength:void 0,defaultValue:void 0},pd:{id:"dclid",name:"dclid",valueType:"text",maxLength:void 0,defaultValue:void 0},Jd:{id:"pageLoadTime",name:"plt",valueType:"integer",maxLength:void 0,defaultValue:void 0},rd:{id:"dnsTime",name:"dns",valueType:"integer",maxLength:void 0,defaultValue:void 0},Vd:{id:"tcpConnectTime",name:"tcp",valueType:"integer",maxLength:void 0,defaultValue:void 0},Pd:{id:"serverResponseTime",name:"srt",valueType:"integer",maxLength:void 0,defaultValue:void 0},Id:{id:"pageDownloadTime",name:"pdt",valueType:"integer",maxLength:void 0,defaultValue:void 0},Ld:{id:"redirectResponseTime",name:"rrt",valueType:"integer",maxLength:void 0,defaultValue:void 0},Wd:{id:"timingCategory",name:"utc",valueType:"text",maxLength:150,defaultValue:void 0},Zd:{id:"timingVar",name:"utv",valueType:"text",maxLength:500,defaultValue:void 0},Yd:{id:"timingValue",name:"utt",valueType:"integer",maxLength:void 0,defaultValue:void 0},Xd:{id:"timingLabel",name:"utl",valueType:"text",maxLength:500,defaultValue:void 0},wd:{id:"exDescription",name:"exd",valueType:"text",maxLength:150,defaultValue:void 0},xd:{id:"exFatal",name:"exf",valueType:"boolean",maxLength:void 0,defaultValue:"1"}},_=function(a){if(1>a||200<a)throw Error("Expected dimension index range 1-200, but was : "+a);return{id:"dimension"+a,name:"cd"+a,valueType:"text",maxLength:150,defaultValue:void 0}},ab=function(a){if(1>a||200<a)throw Error("Expected metric index range 1-200, but was : "+a);return{id:"metric"+a,name:"cm"+a,valueType:"integer",maxLength:void 0,defaultValue:void 0}},bb=function(a){return 1>a?"0":3>a?"1-2":(a=Math.floor(Math.log(a-1)/Math.log(2)),Math.pow(2,a)+1+"-"+Math.pow(2,a+1))},cb=function(a,b){for(var c=0,d=a.length-1,e=0;c<=d;){var f=Math.floor((c+d)/2),e=a[f];if(b<=e){d=0==f?0:a[f-1];if(b>d)return(d+1).toString()+"-"+e.toString();d=f-1}else if(b>e){if(f>=a.length-1)return(a[a.length-1]+1).toString()+"+";c=f+1}}return"<= 0"},db=function(){this.gb=[]},eb=function(){return new db};a=db.prototype,a.when=function(a){return this.gb.push(a),this},a.Rb=function(a){var b=arguments;return this.when(function(a){return 0<=x(b,a.ub())}),this},a.Yc=function(a,b){var c=E(arguments,1);return this.when(function(b){return b=b.V().get(a),0<=x(c,b)}),this},a.mb=function(a,b){if(l(this.e))throw Error("Filter has already been set.");return this.e=l(b)?o(a,b):a,this},a.ia=function(){if(0==this.gb.length)throw Error("Must specify at least one predicate using #when or a helper method.");if(!l(this.e))throw Error("Must specify a delegate filter using #applyFilter.");return o(function(a){A(this.gb,function(b){return b(a)})&&this.e(a)},this)};var fb=function(){this.lb=!1,this.zb="",this.Kb=!1,this.ya=null};fb.prototype.Wb=function(a){return this.lb=!0,this.zb=a||" - ",this},fb.prototype.Sc=function(){return this.Kb=!0,this},fb.prototype.Dc=function(){return gb(this,bb)},fb.prototype.Ec=function(a){return gb(this,p(cb,a))};var gb=function(a,b){if(null!=a.ya)throw Error("LabelerBuilder: Only one labeling strategy may be used.");return a.ya=o(function(a){var c=a.V().get(Z),d=a.V().get(Y);j(c)&&(c=b(c),null!=d&&this.lb&&(c=d+this.zb+c),a.V().set(Y,c))},a),a};fb.prototype.ia=function(){if(null==this.ya)throw Error("LabelerBuilder: a labeling strategy must be specified prior to calling build().");return eb().Rb("event").mb(o(function(a){this.ya(a),this.Kb&&a.V().remove(Z)},this)).ia()};var hb=function(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(a,b,d,e,f,g,h,i){if("%"==g)return"%";var j=c.shift();if("undefined"==typeof j)throw Error("[goog.string.format] Not enough arguments");return arguments[0]=j,ib[g].apply(null,arguments)})},ib={s:function(a,b,c){return isNaN(c)||""==c||a.length>=c?a:a=-1<b.indexOf("-",0)?a+Array(c-a.length+1).join(" "):Array(c-a.length+1).join(" ")+a},f:function(a,b,c,d,e){d=a.toString(),isNaN(e)||""==e||(d=parseFloat(a).toFixed(e));var f;return f=0>a?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"",0<=a&&(d=f+d),isNaN(c)||d.length>=c?d:(d=isNaN(e)?Math.abs(a).toString():Math.abs(a).toFixed(e),a=c-d.length-f.length,d=0<=b.indexOf("-",0)?f+d+Array(a+1).join(" "):f+Array(a+1).join(0<=b.indexOf("0",0)?"0":" ")+d)},d:function(a,b,c,d,e,f,g,h){return ib.f(parseInt(a,10),b,c,d,0,f,g,h)}};ib.i=ib.d,ib.u=ib.d;var jb=function(a){if("function"==typeof a.t)return a.t();if(i(a))return a.split("");if(h(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return I(a)},kb=function(a,b){if("function"==typeof a.forEach)a.forEach(b,void 0);else if(h(a)||i(a))y(a,b,void 0);else{var c;if("function"==typeof a.H)c=a.H();else if("function"!=typeof a.t)if(h(a)||i(a)){c=[];for(var d=a.length,e=0;e<d;e++)c.push(e)}else c=J(a);else c=void 0;for(var d=jb(a),e=d.length,f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],a)}},lb=function(a){this.w=new O;if(0<arguments.length%2)throw Error("Uneven number of arguments to ParameterMap constructor.");for(var b=arguments,c=0;c<b.length;c+=2)this.set(b[c],b[c+1])};lb.prototype.set=function(a,b){if(null==b)throw Error("undefined-or-null value for key: "+a.name);this.w.set(a.name,{key:a,value:b})},lb.prototype.remove=function(a){this.w.remove(a.name)},lb.prototype.get=function(a){return a=this.w.get(a.name,null),null===a?null:a.value},lb.prototype.ha=function(a){this.w.ha(a.w)};var mb=function(a,b){y(a.w.t(),function(a){b(a.key,a.value)})};lb.prototype.Nb=function(){var a={};return mb(this,function(b,c){a[b.id]=c}),a},lb.prototype.clone=function(){var a=new lb;return a.w=this.w.clone(),a},lb.prototype.toString=function(){var a={};return mb(this,function(b,c){a[b.id]=c}),JSON.stringify(a)};var nb=function(a){this.e=a};a=nb.prototype,a.Yb=function(a){var b=new nb(o(this.M,this));return b.I=W,b.Q=a,b},a.action=function(a){var b=new nb(o(this.M,this));return b.I=X,b.Q=a,b},a.label=function(a){var b=new nb(o(this.M,this));return b.I=Y,b.Q=a,b},a.value=function(a){var b=new nb(o(this.M,this));return b.I=Z,b.Q=a,b},a.fc=function(a){var b=new nb(o(this.M,this));return b.I=_(a.index),b.Q=a.value,b},a.vc=function(a){var b=new nb(o(this.M,this));return b.I=ab(a.index),b.Q=a.value,b},a.send=function(a){var b=new lb;return this.M(b),a.send("event",b)},a.M=function(a){null!=this.I&&null!=this.Q&&!a.w.T(this.I.name)&&a.set(this.I,this.Q),l(this.e)&&this.e(a)};var ob=new nb(e),pb=function(){this.aa=this.aa,this.Ca=this.Ca};pb.prototype.aa=!1,pb.prototype.ma=function(){this.aa||(this.aa=!0,this.o())},pb.prototype.o=function(){if(this.Ca)for(;this.Ca.length;)this.Ca.shift()()};var qb=function(a,b){this.type=a,this.currentTarget=this.target=b,this.defaultPrevented=this.X=!1,this.Hb=!0};qb.prototype.preventDefault=function(){this.defaultPrevented=!0,this.Hb=!1};var rb=function(a){return rb[" "](a),a};rb[" "]=e;var sb;a:{var tb=c.navigator;if(tb){var ub=tb.userAgent;if(ub){sb=ub;break a}}sb=""}var vb=function(){return-1!=sb.indexOf("Edge")||-1!=sb.indexOf("Trident")||-1!=sb.indexOf("MSIE")},wb=function(){return-1!=sb.indexOf("Edge")},xb=-1!=sb.indexOf("Opera")||-1!=sb.indexOf("OPR"),yb=vb(),zb=-1!=sb.indexOf("Gecko")&&(-1==sb.toLowerCase().indexOf("webkit")||!!wb())&&-1==sb.indexOf("Trident")&&-1==sb.indexOf("MSIE")&&!wb(),Ab=-1!=sb.toLowerCase().indexOf("webkit")&&!wb(),Bb=function(){var a=sb;if(zb)return/rv\:([^\);]+)(\)|;)/.exec(a);if(yb&&wb())return/Edge\/([\d\.]+)/.exec(a);if(yb)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Ab)return/WebKit\/(\S+)/.exec(a)},Cb=function(){var a=c.document;return a?a.documentMode:void 0},Db=function(){if(xb&&c.opera){var a=c.opera.version;return k(a)?a():a}var a="",b=Bb();return b&&(a=b?b[1]:""),yb&&!wb()&&(b=Cb(),b>parseFloat(a))?String(b):a}(),Eb={},Fb=function(a){var b;if(!(b=Eb[a])){b=0;for(var c=u(String(Db)).split("."),d=u(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",i=/(\d*)(\D*)/g,j=/(\d*)(\D*)/g;do{var k=i.exec(g)||["","",""],l=j.exec(h)||["","",""];if(0==k[0].length&&0==l[0].length)break;b=v(0==k[1].length?0:parseInt(k[1],10),0==l[1].length?0:parseInt(l[1],10))||v(0==k[2].length,0==l[2].length)||v(k[2],l[2])}while(0==b)}b=Eb[a]=0<=b}return b},Gb=c.document,Hb=Cb(),Ib=!Gb||!yb||!Hb&&wb()?void 0:Hb||("CSS1Compat"==Gb.compatMode?parseInt(Db,10):5),Jb=!yb||yb&&(wb()||9<=Ib),Kb=yb&&!Fb("9"),Lb=!Ab||Fb("528"),Mb=zb&&Fb("1.9b")||yb&&Fb("8")||xb&&Fb("9.5")||Ab&&Fb("528"),Nb=zb&&!Fb("8")||yb&&!Fb("9"),Ob=function(a,b){qb.call(this,a?a.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.sb=this.state=null;if(a){var c=this.type=a.type;this.target=a.target||a.srcElement,this.currentTarget=b;var d=a.relatedTarget;if(d){if(zb){var e;a:{try{rb(d.nodeName),e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d,this.offsetX=Ab||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=Ab||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0,this.button=a.button,this.keyCode=a.keyCode||0,this.charCode=a.charCode||("keypress"==c?a.keyCode:0),this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.state=a.state,this.sb=a,a.defaultPrevented&&this.preventDefault()}};s(Ob,qb),Ob.prototype.preventDefault=function(){Ob.P.preventDefault.call(this);var a=this.sb;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Kb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Pb="closure_listenable_"+(1e6*Math.random()|0),Qb=function(a){return!!a&&!!a[Pb]},Rb=0,Sb=function(a,b,c,d,e){this.O=a,this.proxy=null,this.src=b,this.type=c,this.ka=!!d,this.sa=e,this.key=++Rb,this.removed=this.ja=!1},Tb=function(a){a.removed=!0,a.O=null,a.proxy=null,a.src=null,a.sa=null},Ub=function(a){this.src=a,this.k={},this.fa=0};Ub.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.k[f],a||(a=this.k[f]=[],this.fa++);var g=Wb(a,b,d,e);return-1<g?(b=a[g],c||(b.ja=!1)):(b=new Sb(b,this.src,f,!!d,e),b.ja=c,a.push(b)),b},Ub.prototype.remove=function(a,b,c,d){a=a.toString();if(a in this.k){var e=this.k[a];return b=Wb(e,b,c,d),-1<b?(Tb(e[b]),w.splice.call(e,b,1),0==e.length&&(delete this.k[a],this.fa--),!0):!1}return!1};var Vb=function(a,b){var c=b.type;if(c in a.k){var d=C(a.k[c],b);return d&&(Tb(b),0==a.k[c].length&&(delete a.k[c],a.fa--)),d}return!1};Ub.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.k)if(!a||c==a){for(var d=this.k[c],e=0;e<d.length;e++)++b,Tb(d[e]);delete this.k[c],this.fa--}return b},Ub.prototype.ba=function(a,b,c,d){a=this.k[a.toString()];var e=-1;return a&&(e=Wb(a,b,c,d)),-1<e?a[e]:null};var Wb=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.O==b&&f.ka==!!c&&f.sa==d)return e}return-1},Xb="closure_lm_"+(1e6*Math.random()|0),Yb={},Zb=0,$b=function(a,b,c,d,e){if(g(b)){for(var f=0;f<b.length;f++)$b(a,b[f],c,d,e);return null}return c=kc(c),Qb(a)?a.listen(b,c,d,e):_b(a,b,c,!1,d,e)},_b=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,h=ic(a);return h||(a[Xb]=h=new Ub(a)),c=h.add(b,c,d,e,f),c.proxy?c:(d=ac(),c.proxy=d,d.src=a,d.O=c,a.addEventListener?a.addEventListener(b.toString(),d,g):a.attachEvent(ec(b.toString()),d),Zb++,c)},ac=function(){var a=hc,b=Jb?function(c){return a.call(b.src,b.O,c)}:function(c){c=a.call(b.src,b.O,c);if(!c)return c};return b},bc=function(a,b,c,d,e){if(g(b)){for(var f=0;f<b.length;f++)bc(a,b[f],c,d,e);return null}return c=kc(c),Qb(a)?a.cb(b,c,d,e):_b(a,b,c,!0,d,e)},cc=function(a,b,c,d,e){if(g(b))for(var f=0;f<b.length;f++)cc(a,b[f],c,d,e);else c=kc(c),Qb(a)?a.jb(b,c,d,e):a&&(a=ic(a))&&(b=a.ba(b,c,!!d,e))&&dc(b)},dc=function(a){if(j(a)||!a||a.removed)return!1;var b=a.src;if(Qb(b))return Vb(b.B,a);var c=a.type,d=a.proxy;return b.removeEventListener?b.removeEventListener(c,d,a.ka):b.detachEvent&&b.detachEvent(ec(c),d),Zb--,(c=ic(b))?(Vb(c,a),0==c.fa&&(c.src=null,b[Xb]=null)):Tb(a),!0},ec=function(a){return a in Yb?Yb[a]:Yb[a]="on"+a},fc=function(a,b,c,d){var e=!0;if(a=ic(a))if(b=a.k[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.ka==c&&!f.removed&&(f=gc(f,d),e=e&&!1!==f)}return e},gc=function(a,b){var c=a.O,d=a.sa||a.src;return a.ja&&dc(a),c.call(d,b)},hc=function(a,b){if(a.removed)return!0;if(!Jb){var d;if(!(d=b))a:{d=["window","event"];for(var e=c,f;f=d.shift();){if(null==e[f]){d=null;break a}e=e[f]}d=e}f=d,d=new Ob(f,this),e=!0;if(!(0>f.keyCode||void 0!=f.returnValue)){a:{var g=!1;if(0==f.keyCode)try{f.keyCode=-1;break a}catch(h){g=!0}if(g||void 0==f.returnValue)f.returnValue=!0}f=[];for(g=d.currentTarget;g;g=g.parentNode)f.push(g);for(var g=a.type,i=f.length-1;!d.X&&0<=i;i--){d.currentTarget=f[i];var j=fc(f[i],g,!0,d),e=e&&j}for(i=0;!d.X&&i<f.length;i++)d.currentTarget=f[i],j=fc(f[i],g,!1,d),e=e&&j}return e}return gc(a,new Ob(b,this))},ic=function(a){return a=a[Xb],a instanceof Ub?a:null},jc="__closure_events_fn_"+(1e9*Math.random()>>>0),kc=function(a){return k(a)?a:(a[jc]||(a[jc]=function(b){return a.handleEvent(b)}),a[jc])},lc=function(){pb.call(this),this.B=new Ub(this),this.Tb=this,this.fb=null};s(lc,pb),lc.prototype[Pb]=!0,a=lc.prototype,a.addEventListener=function(a,b,c,d){$b(this,a,b,c,d)},a.removeEventListener=function(a,b,c,d){cc(this,a,b,c,d)},a.dispatchEvent=function(a){var b,c=this.fb;if(c){b=[];for(var d=1;c;c=c.fb)b.push(c),++d}c=this.Tb,d=a.type||a;if(i(a))a=new qb(a,c);else if(a instanceof qb)a.target=a.target||c;else{var e=a;a=new qb(d,c),M(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.X&&0<=g;g--)f=a.currentTarget=b[g],e=mc(f,d,!0,a)&&e;a.X||(f=a.currentTarget=c,e=mc(f,d,!0,a)&&e,a.X||(e=mc(f,d,!1,a)&&e));if(b)for(g=0;!a.X&&g<b.length;g++)f=a.currentTarget=b[g],e=mc(f,d,!1,a)&&e;return e},a.o=function(){lc.P.o.call(this),this.B&&this.B.removeAll(void 0),this.fb=null},a.listen=function(a,b,c,d){return this.B.add(String(a),b,!1,c,d)},a.cb=function(a,b,c,d){return this.B.add(String(a),b,!0,c,d)},a.jb=function(a,b,c,d){return this.B.remove(String(a),b,c,d)};var mc=function(a,b,c,d){b=a.B.k[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.removed&&g.ka==c){var h=g.O,i=g.sa||g.src;g.ja&&Vb(a.B,g),e=!1!==h.call(i,d)&&e}}return e&&0!=d.Hb};lc.prototype.ba=function(a,b,c,d){return this.B.ba(String(a),b,c,d)};var nc=function(a,b,c){this.tc=c,this.dc=a,this.Gc=b,this.Ba=0,this.ta=null};nc.prototype.get=function(){var a;return 0<this.Ba?(this.Ba--,a=this.ta,this.ta=a.next,a.next=null):a=this.dc(),a},nc.prototype.put=function(a){this.Gc(a),this.Ba<this.tc&&(this.Ba++,a.next=this.ta,this.ta=a)};var oc=function(a){c.setTimeout(function(){throw a},0)},pc,qc=function(){var a=c.MessageChannel;"undefined"==typeof a&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&-1==sb.indexOf("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none",a.src="",document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open(),a.write(""),a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=o(function(a){("*"==d||a.origin==d)&&a.data==c&&this.port1.onmessage()},this);b.addEventListener("message",a,!1),this.port1={},this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!=typeof a&&!vb()){var b=new a,e={},f=e;return b.port1.onmessage=function(){if(d(e.next)){e=e.next;var a=e.ob;e.ob=null,a()}},function(a){f.next={ob:a},f=f.next,b.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null,b.parentNode.removeChild(b),b=null,a(),a=null},document.documentElement.appendChild(b)}:function(a){c.setTimeout(a,0)}},rc=function(){this.Ka=this.Z=null},sc=new nc(function(){return new tc},function(a){a.reset()},100);rc.prototype.add=function(a,b){var c=sc.get();c.set(a,b),this.Ka?this.Ka.next=c:this.Z=c,this.Ka=c},rc.prototype.remove=function(){var a=null;return this.Z&&(a=this.Z,this.Z=this.Z.next,this.Z||(this.Ka=null),a.next=null),a};var tc=function(){this.next=this.scope=this.Wa=null};tc.prototype.set=function(a,b){this.Wa=a,this.scope=b,this.next=null},tc.prototype.reset=function(){this.next=this.scope=this.Wa=null};var uc=function(a,b){vc||wc(),xc||(vc(),xc=!0),yc.add(a,b)},vc,wc=function(){if(c.Promise&&c.Promise.resolve){var a=c.Promise.resolve();vc=function(){a.then(zc)}}else vc=function(){var a=zc;!k(c.setImmediate)||c.Window&&c.Window.prototype&&c.Window.prototype.setImmediate==c.setImmediate?(pc||(pc=qc()),pc(a)):c.setImmediate(a)}},xc=!1,yc=new rc,zc=function(){for(var a=null;a=yc.remove();){try{a.Wa.call(a.scope)}catch(b){oc(b)}sc.put(a)}xc=!1},Ac=function(a){a.prototype.then=a.prototype.then,a.prototype.$goog_Thenable=!0},Bc=function(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}},Cc=function(a,b){this.m=0,this.D=void 0,this.S=this.G=this.l=null,this.ra=this.Va=!1;if(a==Gc)Kc(this,2,b);else try{var c=this;a.call(b,function(a){Kc(c,2,a)},function(a){Kc(c,3,a)})}catch(d){Kc(this,3,d)}},Dc=function(){this.next=this.context=this.da=this.Da=this.L=null,this.Na=!1};Dc.prototype.reset=function(){this.context=this.da=this.Da=this.L=null,this.Na=!1};var Ec=new nc(function(){return new Dc},function(a){a.reset()},100),Fc=function(a,b,c){var d=Ec.get();return d.Da=a,d.da=b,d.context=c,d},Gc=function(){};Cc.prototype.then=function(a,b,c){return Jc(this,k(a)?a:null,k(b)?b:null,c)},Ac(Cc),Cc.prototype.cancel=function(a){0==this.m&&uc(function(){var b=new Rc(a);Hc(this,b)},this)};var Hc=function(a,b){if(0==a.m)if(a.l){var c=a.l;if(c.G){for(var d=0,e=null,f=null,g=c.G;g&&(g.Na||(d++,g.L==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(0==c.m&&1==d?Hc(c,b):(f?(d=f,d.next==c.S&&(c.S=d),d.next=d.next.next):Nc(c),Oc(c,e,3,b)))}a.l=null}else Kc(a,3,b)},Ic=function(a,b){a.G||2!=a.m&&3!=a.m||Mc(a),a.S?a.S.next=b:a.G=b,a.S=b},Jc=function(a,b,c,e){var f=Fc(null,null,null);return f.L=new Cc(function(a,g){f.Da=b?function(c){try{var d=b.call(e,c);a(d)}catch(f){g(f)}}:a,f.da=c?function(b){try{var f=c.call(e,b);!d(f)&&b instanceof Rc?g(b):a(f)}catch(h){g(h)}}:g}),f.L.l=a,Ic(a,f),f.L};Cc.prototype.Pb=function(a){this.m=0,Kc(this,2,a)},Cc.prototype.Qb=function(a){this.m=0,Kc(this,3,a)};var Kc=function(a,b,c){if(0==a.m){if(a==c)b=3,c=new TypeError("Promise cannot resolve to itself");else{if(Bc(c)){a.m=1,b=c,c=a.Pb;var d=a.Qb;b instanceof Cc?Ic(b,Fc(c||e,d||null,a)):b.then(c,d,a);return}if(l(c))try{if(d=c.then,k(d)){Lc(a,c,d);return}}catch(f){b=3,c=f}}a.D=c,a.m=b,a.l=null,Mc(a),3!=b||c instanceof Rc||Pc(a,c)}},Lc=function(a,b,c){a.m=1;var d=!1,e=function(b){d||(d=!0,a.Pb(b))},f=function(b){d||(d=!0,a.Qb(b))};try{c.call(b,e,f)}catch(g){f(g)}},Mc=function(a){a.Va||(a.Va=!0,uc(a.gc,a))},Nc=function(a){var b=null;return a.G&&(b=a.G,a.G=b.next,b.next=null),a.G||(a.S=null),b};Cc.prototype.gc=function(){for(var a=null;a=Nc(this);)Oc(this,a,this.m,this.D);this.Va=!1};var Oc=function(a,b,c,d){b.L&&(b.L.l=null);if(2==c)b.Da.call(b.context,d);else if(null!=b.da){if(!b.Na)for(;a&&a.ra;a=a.l)a.ra=!1;b.da.call(b.context,d)}Ec.put(b)},Pc=function(a,b){a.ra=!0,uc(function(){a.ra&&Qc.call(null,b)})},Qc=oc,Rc=function(a){t.call(this,a)};s(Rc,t),Rc.prototype.name="cancel";var Sc=function(a,b){this.Fa=[],this.Cb=a,this.rb=b||null,this.ca=this.C=!1,this.D=void 0,this.hb=this.Xb=this.Oa=!1,this.Ia=0,this.l=null,this.Qa=0};Sc.prototype.cancel=function(a){if(this.C)this.D instanceof Sc&&this.D.cancel();else{if(this.l){var b=this.l;delete this.l,a?b.cancel(a):(b.Qa--,0>=b.Qa&&b.cancel())}this.Cb?this.Cb.call(this.rb,this):this.hb=!0,this.C||this.A(new ad)}},Sc.prototype.qb=function(a,b){this.Oa=!1,Tc(this,a,b)};var Tc=function(a,b,c){a.C=!0,a.D=c,a.ca=!b,Yc(a)},Uc=function(a){if(a.C){if(!a.hb)throw new _c;a.hb=!1}};Sc.prototype.v=function(a){Uc(this),Tc(this,!0,a)},Sc.prototype.A=function(a){Uc(this),Tc(this,!1,a)},Sc.prototype.n=function(a,b){return Vc(this,a,null,b)};var Vc=function(a,b,c,d){return a.Fa.push([b,c,d]),a.C&&Yc(a),a};Sc.prototype.then=function(a,b,c){var d,e,f=new Cc(function(a,b){d=a,e=b});return Vc(this,d,function(a){a instanceof ad?f.cancel():e(a)}),f.then(a,b,c)},Ac(Sc);var Wc=function(a){var b=new Sc;return Vc(a,b.v,b.A,b),b},Xc=function(a){return z(a.Fa,function(a){return k(a[1])})},Yc=function(a){if(a.Ia&&a.C&&Xc(a)){var b=a.Ia,e=cd[b];e&&(c.clearTimeout(e.ua),delete cd[b]),a.Ia=0}a.l&&(a.l.Qa--,delete a.l);for(var b=a.D,f=e=!1;a.Fa.length&&!a.Oa;){var g=a.Fa.shift(),h=g[0],i=g[1],g=g[2];if(h=a.ca?i:h)try{var j=h.call(g||a.rb,b);d(j)&&(a.ca=a.ca&&(j==b||j instanceof Error),a.D=b=j),Bc(b)&&(f=!0,a.Oa=!0)}catch(k){b=k,a.ca=!0,Xc(a)||(e=!0)}}a.D=b,f&&(j=o(a.qb,a,!0),f=o(a.qb,a,!1),b instanceof Sc?(Vc(b,j,f),b.Xb=!0):b.then(j,f)),e&&(b=new bd(b),cd[b.ua]=b,a.Ia=b.ua)},Zc=function(a){var b=new Sc;return b.v(a),b},$c=function(){var a=ce,b=new Sc;return b.A(a),b},_c=function(){t.call(this)};s(_c,t),_c.prototype.message="Deferred has already fired",_c.prototype.name="AlreadyCalledError";var ad=function(){t.call(this)};s(ad,t),ad.prototype.message="Deferred was canceled",ad.prototype.name="CanceledError";var bd=function(a){this.ua=c.setTimeout(o(this.Tc,this),0),this.na=a};bd.prototype.Tc=function(){throw delete cd[this.ua],this.na};var cd={},dd=function(a){this.qa=[],this.e=a};dd.prototype.R=function(a){if(!k(a))throw Error("Invalid filter. Must be a function.");this.qa.push(a)},dd.prototype.send=function(a,b){if(0==this.qa.length)return this.e.send(a,b);var c=new fd(a,b);return ed(this,0,c).n(function(){if(!c.Sa)return this.e.send(a,b)},this)};var ed=function(a,b,c){return Zc().n(function(){return this.qa[b](c)},a).n(function(){if(++b<this.qa.length&&!c.Sa)return ed(this,b,c)},a)},fd=function(a,b){this.Wc=a,this.Cc=b,this.Sa=!1};fd.prototype.ub=function(){return this.Wc},fd.prototype.V=function(){return this.Cc},fd.prototype.cancel=function(){this.Sa=!0},N("area base br col command embed hr img input keygen link meta param source track wbr".split(" "));var gd=function(a,b){this.width=a,this.height=b};gd.prototype.clone=function(){return new gd(this.width,this.height)},gd.prototype.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},!zb&&!yb||yb&&yb&&(wb()||9<=Ib)||zb&&Fb("1.9.1"),yb&&Fb("9");var hd={id:"apiVersion",name:"v",valueType:"text",maxLength:void 0,defaultValue:void 0},id={id:"appName",name:"an",valueType:"text",maxLength:100,defaultValue:void 0},jd={id:"appVersion",name:"av",valueType:"text",maxLength:100,defaultValue:void 0},kd={id:"clientId",name:"cid",valueType:"text",maxLength:void 0,defaultValue:void 0},ld={id:"language",name:"ul",valueType:"text",maxLength:20,defaultValue:void 0},md={id:"libVersion",name:"_v",valueType:"text",maxLength:void 0,defaultValue:void 0},nd={id:"sampleRateOverride",name:"usro",valueType:"integer",maxLength:void 0,defaultValue:void 0},od={id:"screenColors",name:"sd",valueType:"text",maxLength:20,defaultValue:void 0},pd={id:"screenResolution",name:"sr",valueType:"text",maxLength:20,defaultValue:void 0},qd={id:"trackingId",name:"tid",valueType:"text",maxLength:void 0,defaultValue:void 0},rd={id:"viewportSize",name:"vp",valueType:"text",maxLength:20,defaultValue:void 0},sd={ad:hd,dd:id,ed:jd,nd:kd,Fd:ld,Gd:md,Md:nd,Nd:od,Od:pd,ae:qd,he:rd},td=function(a){if(!i(a))return a;var b=ud(a,$);if(l(b))return b;b=ud(a,sd);if(l(b))return b;b=/^dimension(\d+)$/.exec(a);if(null!==b)return _(parseInt(b[1],10));b=/^metric(\d+)$/.exec(a);if(null!==b)return ab(parseInt(b[1],10));throw Error(a+" is not a valid parameter name.")},ud=function(a,b){var c=K(b,function(b){return b.id==a&&"metric"!=a&&"dimension"!=a});return l(c)?c:null},vd=function(a,b){this.ac=b,this.q=b.Xa(),this.Fb=new lb,this.ib=!1};a=vd.prototype,a.set=function(a,b){if(null==b)throw Error("Value must be defined and not null. Parameter="+a.id);var c=td(a);this.Fb.set(c,b)},a.R=function(a){this.ac.R(a)},a.send=function(a,b){if(a instanceof nb)return a.send(this);var c=this.Fb.clone();return b instanceof lb?c.ha(b):l(b)&&H(b,function(a,b){null!=a&&c.set(td(b),a)},this),this.ib&&(this.ib=!1,c.set(U,"start")),this.q.send(a,c)},a.Hc=function(a){var b={description:a};return this.set(V,a),this.send("appview",b)},a.Ic=function(a,b,c,d){return this.send("event",{eventCategory:a,eventAction:b,eventLabel:c,eventValue:d})},a.Kc=function(a,b,c){return this.send("social",{socialNetwork:a,socialAction:b,socialTarget:c})},a.Jc=function(a,b){return this.send("exception",{exDescription:a,exFatal:b})},a.Ib=function(a,b,c,d,e){return this.send("timing",{timingCategory:a,timingVar:b,timingLabel:d,timingValue:c,sampleRateOverride:e})},a.jc=function(){this.ib=!0},a.Rc=function(a,b,c,d){return new wd(this,a,b,c,d)};var wd=function(a,b,c,d,e){this.Ob=a,this.Zb=b,this.Xc=c,this.rc=d,this.Ea=e,this.Qc=q()};wd.prototype.send=function(){var a=this.Ob.Ib(this.Zb,this.Xc,q()-this.Qc,this.rc,this.Ea);return this.Ob=null,a};var xd=function(a,b,c,d,e){this.sc=a,this.Ub=b,this.Vb=c,this.g=d,this.$b=e};xd.prototype.mc=function(a){var b=new vd(0,this.$b.create());return b.set(md,this.sc),b.set(hd,1),b.set(id,this.Ub),b.set(jd,this.Vb),b.set(qd,a),(a=navigator.language||navigator.browserLanguage)&&b.set(ld,a),(a=screen.colorDepth+"-bit")&&b.set(od,a),(a=[screen.width,screen.height].join("x"))&&b.set(pd,a),a=window.document,a="CSS1Compat"==a.compatMode?a.documentElement:a.body,a=new gd(a.clientWidth,a.clientHeight),(a=[a.width,a.height].join("x"))&&b.set(rd,a),b},xd.prototype.kc=function(){return Wc(this.g.ea)};var yd=function(a,b,c,d,e,f){Sc.call(this,e,f),this.bb=a,this.Ta=[],this.tb=!!b,this.ic=!!c,this.cc=!!d;for(b=this.Bb=0;b<a.length;b++)Vc(a[b],o(this.vb,this,b,!0),o(this.vb,this,b,!1));0!=a.length||this.tb||this.v(this.Ta)};s(yd,Sc),yd.prototype.vb=function(a,b,c){return this.Bb++,this.Ta[a]=[b,c],this.C||(this.tb&&b?this.v([a,c]):this.ic&&!b?this.A(c):this.Bb==this.bb.length&&this.v(this.Ta)),this.cc&&!b&&(c=null),c},yd.prototype.A=function(a){yd.P.A.call(this,a);for(a=0;a<this.bb.length;a++)this.bb[a].cancel()};var zd=function(a){return(new yd(a,!1,!0)).n(function(a){for(var b=[],c=0;c<a.length;c++)b[c]=a[c][1];return b})},Ad=function(){for(var a="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".split(""),b=0,c=a.length;b<c;b++)switch(a[b]){case"x":a[b]=Math.floor(16*Math.random()).toString(16);break;case"y":a[b]=(Math.floor(4*Math.random())+8).toString(16)}return a.join("")},Bd=function(a){this.J=a,this.Ea=100,this.pb=[],this.W=this.ga=null,this.ea=Cd(this),this.ea.n(function(){this.Jb=$b(this.J,"a",o(this.nc,this))},this)},Cd=function(a){return Dd(a).n(function(){return this},a)},Dd=function(a){return zd([Fd(a),Hd(a)])};Bd.prototype.nc=function(){Ld(this);var a=Gd(this),b=this.xa();Dd(this).n(function(){a!=Gd(this)&&Kd(this,"analytics.user-id"),b!=this.xa()&&Kd(this,"analytics.tracking-permitted")},this)};var Ed=function(a,b){Ld(a),a.pb.push(b)};Bd.prototype.Oc=function(a){Ld(this);var b=this.W!=a;this.W=a,this.J.set("analytics.tracking-permitted",a.toString()),b&&Kd(this,"analytics.tracking-permitted")},Bd.prototype.xa=function(){Ld(this);var a;if(a=this.W)a=c._gaUserPrefs,a=!(a&&a.ioo&&a.ioo());return a};var Fd=function(a){return a.J.get("analytics.tracking-permitted").n(function(a){this.W=!0;if(d(a))switch(a){case"true":this.W=!0;break;case"false":this.W=!1}},a)},Gd=function(a){Ld(a);if(!i(a.ga))throw Error("Invalid state. UserID is not a string.");return a.ga},Hd=function(a){return a.J.get("analytics.user-id").n(function(a){d(a)?this.ga=a:Id(this)},a)},Id=function(a){return a.ga=Ad(),a.J.set("analytics.user-id",a.ga).n(function(){Kd(this,"analytics.user-id")},a)};Bd.prototype.Nc=function(a){Ld(this),this.Ea=a};var Jd=function(a){return Ld(a),a.Ea};Bd.prototype.Fc=function(){return Id(this)};var Kd=function(a,b){y(a.pb,function(a){a(b)})};Bd.prototype.ma=function(){null!=this.Jb&&dc(this.Jb)};var Ld=function(a){if(!Wc(a.ea).C)throw Error("Settings object accessed prior to entering ready state.")},Md=function(){lc.call(this),this.eb="google-analytics",this.J=chrome.storage.local,chrome.storage.onChanged.addListener(o(this.Ac,this))};s(Md,lc),Md.prototype.Ac=function(a){Nd(this,a)&&this.dispatchEvent("a")};var Nd=function(a,b){return z(J(b),function(a){return 0==a.lastIndexOf(this.eb,0)},a)};Md.prototype.get=function(a){var b=new Sc,c=this.eb+"."+a;return this.J.get(c,function(a){chrome.runtime.lastError?b.A(chrome.runtime.lastError):(a=a[c],b.v(null!=a?a.toString():void 0))}),b},Md.prototype.set=function(a,b){var c=new Sc,d={};return d[this.eb+"."+a]=b,this.J.set(d,function(){chrome.runtime.lastError?c.A(chrome.runtime.lastError):c.v()}),c};var Od=function(){};Od.lc=function(){return Od.yb?Od.yb:Od.yb=new Od},Od.prototype.send=function(){return Zc()};var Pd=function(a){this.ec=a};Pd.prototype.send=function(a,b){return this.ec.push({pc:a,Bc:b}),Zc()};var Qd=function(a,b,c){this.g=a,this.U=[],this.K={enabled:new Pd(this.U),disabled:c},this.q=this.K.enabled,Vc(Wc(this.g.ea),p(this.zc,b),this.yc,this)};Qd.prototype.zc=function(a){if(null===this.U)throw Error("Channel setup already completed.");this.K.enabled=a(),Rd(this),y(this.U,function(a){this.send(a.pc,a.Bc)},this),this.U=null,Ed(this.g,o(this.xc,this))},Qd.prototype.yc=function(){if(null===this.U)throw Error("Channel setup already completed.");this.q=this.K.enabled=this.K.disabled,this.U=null},Qd.prototype.send=function(a,b){return this.q.send(a,b)};var Rd=function(a){a.q=a.g.xa()?a.K.enabled:a.K.disabled};Qd.prototype.xc=function(a){switch(a){case"analytics.tracking-permitted":Rd(this)}};var Sd=function(a,b){this.Ra=[];var c=o(function(){return this.pa=new dd(b.Xa()),y(this.Ra,function(a){this.pa.R(a)},this),this.Ra=null,this.pa},this);this.q=new Qd(a,c,Od.lc())};Sd.prototype.Xa=function(){return this.q},Sd.prototype.R=function(a){this.pa?this.pa.R(a):this.Ra.push(a)};var Td=function(a,b){this.g=a,this.Pc=b};Td.prototype.create=function(){return new Sd(this.g,this.Pc)};var Ud=function(a,b){lc.call(this),this.wa=a||1,this.Y=b||c,this.Pa=o(this.Uc,this),this.ab=q()};s(Ud,lc),a=Ud.prototype,a.enabled=!1,a.h=null,a.Uc=function(){if(this.enabled){var a=q()-this.ab;0<a&&a<.8*this.wa?this.h=this.Y.setTimeout(this.Pa,this.wa-a):(this.h&&(this.Y.clearTimeout(this.h),this.h=null),this.dispatchEvent("tick"),this.enabled&&(this.h=this.Y.setTimeout(this.Pa,this.wa),this.ab=q()))}},a.start=function(){this.enabled=!0,this.h||(this.h=this.Y.setTimeout(this.Pa,this.wa),this.ab=q())},a.stop=function(){this.enabled=!1,this.h&&(this.Y.clearTimeout(this.h),this.h=null)},a.o=function(){Ud.P.o.call(this),this.stop(),delete this.Y};var Vd=function(a,b,d){if(k(a))d&&(a=o(a,d));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=o(a.handleEvent,a)}return 2147483647<b?-1:c.setTimeout(a,b||0)},Wd=function(a){pb.call(this),this.Ya=a,this.b={}};s(Wd,pb);var Xd=[];Wd.prototype.listen=function(a,b,c,d){g(b)||(b&&(Xd[0]=b.toString()),b=Xd);for(var e=0;e<b.length;e++){var f=$b(a,b[e],c||this.handleEvent,d||!1,this.Ya||this);if(!f)break;this.b[f.key]=f}return this},Wd.prototype.cb=function(a,b,c,d){return Yd(this,a,b,c,d)};var Yd=function(a,b,c,d,e,f){if(g(c))for(var h=0;h<c.length;h++)Yd(a,b,c[h],d,e,f);else{b=bc(b,c,d||a.handleEvent,e,f||a.Ya||a);if(!b)return a;a.b[b.key]=b}return a};Wd.prototype.jb=function(a,b,c,d,e){if(g(b))for(var f=0;f<b.length;f++)this.jb(a,b[f],c,d,e);else c=c||this.handleEvent,e=e||this.Ya||this,c=kc(c),d=!!d,b=Qb(a)?a.ba(b,c,d,e):a?(a=ic(a))?a.ba(b,c,d,e):null:null,b&&(dc(b),delete this.b[b.key]);return this},Wd.prototype.removeAll=function(){H(this.b,dc),this.b={}},Wd.prototype.o=function(){Wd.P.o.call(this),this.removeAll()},Wd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zd=function(){lc.call(this),this.oa=new Wd(this),Lb&&(Mb?this.oa.listen(Nb?document.body:window,["online","offline"],this.wb):(this.Eb=Lb?navigator.onLine:!0,this.h=new Ud(250),this.oa.listen(this.h,"tick",this.oc),this.h.start()))};s(Zd,lc),Zd.prototype.oc=function(){var a=Lb?navigator.onLine:!0;a!=this.Eb&&(this.Eb=a,this.wb())},Zd.prototype.wb=function(){this.dispatchEvent((Lb?navigator.onLine:1)?"online":"offline")},Zd.prototype.o=function(){Zd.P.o.call(this),this.oa.ma(),this.oa=null,this.h&&(this.h.ma(),this.h=null)};var $d=function(a,b){this.g=a,this.e=b};$d.prototype.send=function(a,b){return b.set(kd,Gd(this.g)),this.e.send(a,b)};var _d=function(a){this.e=a};_d.prototype.send=function(a,b){return ae(b),be(b),this.e.send(a,b)};var ae=function(a){mb(a,function(b,c){d(b.maxLength)&&"text"==b.valueType&&0<b.maxLength&&c.length>b.maxLength&&a.set(b,c.substring(0,b.maxLength))})},be=function(a){mb(a,function(b,c){d(b.defaultValue)&&c==b.defaultValue&&a.remove(b)})},ce={status:"device-offline",la:void 0},de={status:"rate-limited",la:void 0},ee={status:"sampled-out",la:void 0},fe={status:"sent",la:void 0},ge=function(a,b){this.Vc=a,this.e=b};ge.prototype.send=function(a,b){var c;c=this.Vc;var d=c.Lb(),e=Math.floor((d-c.Ab)*c.hc);return 0<e&&(c.$=Math.min(c.$+e,c.uc),c.Ab=d),1>c.$?c=!1:(--c.$,c=!0),c||"item"==a||"transaction"==a?this.e.send(a,b):Zc(de)};var he=function(){this.$=60,this.uc=500,this.hc=5e-4,this.Lb=function(){return(new Date).getTime()},this.Ab=this.Lb()},ie=function(a,b){this.g=a,this.e=b};ie.prototype.send=function(a,b){var c=b.get(kd),c=parseInt(c.split("-")[1],16),d;return"timing"!=a?d=Jd(this.g):((d=b.get(nd))&&b.remove(nd),d=d||Jd(this.g)),c<655.36*d?this.e.send(a,b):Zc(ee)};var je=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/,ke=function(a){if(le){le=!1;var b=c.location;if(b){var d=b.href;if(d&&(d=(d=ke(d)[3]||null)?decodeURI(d):d)&&d!=b.hostname)throw le=!0,Error()}}return a.match(je)},le=Ab,me=function(a,b){for(var c=a.split("&"),d=0;d<c.length;d++){var e=c[d].indexOf("="),f=null,g=null;0<=e?(f=c[d].substring(0,e),g=c[d].substring(e+1)):f=c[d],b(f,g?decodeURIComponent(g.replace(/\+/g," ")):"")}},ne=function(){};ne.prototype.nb=null;var oe=function(a){var b;return(b=a.nb)||(b={},se(a)&&(b[0]=!0,b[1]=!0),b=a.nb=b),b},pe,qe=function(){};s(qe,ne);var re=function(a){return(a=se(a))?new ActiveXObject(a):new XMLHttpRequest},se=function(a){if(!a.xb&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.xb=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return a.xb};pe=new qe;var te=function(a){lc.call(this),this.headers=new O,this.Ma=a||null,this.F=!1,this.La=this.a=null,this.za=this.$a="",this.N=this.Za=this.va=this.Ua=!1,this.Ha=0,this.Ga=null,this.Gb="",this.kb=this.Zc=!1};s(te,lc);var ue=/^https?$/i,ve=["POST","PUT"],we=[],xe=function(a,b,c){var d=new te;we.push(d),b&&d.listen("complete",b),d.cb("ready",d.bc),d.send(a,"POST",c,void 0)};te.prototype.bc=function(){this.ma(),C(we,this)},te.prototype.send=function(a,b,d,e){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.$a+"; newUri="+a);b=b?b.toUpperCase():"GET",this.$a=a,this.za="",this.Ua=!1,this.F=!0,this.a=this.Ma?re(this.Ma):re(pe),this.La=this.Ma?oe(this.Ma):oe(pe),this.a.onreadystatechange=o(this.Db,this);try{this.Za=!0,this.a.open(b,String(a),!0),this.Za=!1}catch(f){this.na(5,f);return}a=d||"";var g=this.headers.clone();e&&kb(e,function(a,b){g.set(b,a)}),e=B(g.H()),d=c.FormData&&a instanceof c.FormData,!(0<=x(ve,b))||e||d||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),g.forEach(function(a,b){this.a.setRequestHeader(b,a)},this),this.Gb&&(this.a.responseType=this.Gb),"withCredentials"in this.a&&(this.a.withCredentials=this.Zc);try{De(this),0<this.Ha&&((this.kb=ye(this.a))?(this.a.timeout=this.Ha,this.a.ontimeout=o(this.Mb,this)):this.Ga=Vd(this.Mb,this.Ha,this)),this.va=!0,this.a.send(a),this.va=!1}catch(h){this.na(5,h)}};var ye=function(a){return yb&&Fb(9)&&j(a.timeout)&&d(a.ontimeout)},ze=function(a){return"content-type"==a.toLowerCase()};te.prototype.Mb=function(){"undefined"!=typeof b&&this.a&&(this.za="Timed out after "+this.Ha+"ms, aborting",this.dispatchEvent("timeout"),this.abort(8))},te.prototype.na=function(a,b){this.F=!1,this.a&&(this.N=!0,this.a.abort(),this.N=!1),this.za=b,Ae(this),Ce(this)};var Ae=function(a){a.Ua||(a.Ua=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))};te.prototype.abort=function(){this.a&&this.F&&(this.F=!1,this.N=!0,this.a.abort(),this.N=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ce(this))},te.prototype.o=function(){this.a&&(this.F&&(this.F=!1,this.N=!0,this.a.abort(),this.N=!1),Ce(this,!0)),te.P.o.call(this)},te.prototype.Db=function(){this.aa||(this.Za||this.va||this.N?Be(this):this.wc())},te.prototype.wc=function(){Be(this)};var Be=function(a){if(a.F&&"undefined"!=typeof b&&(!a.La[1]||4!=Ee(a)||2!=Fe(a)))if(a.va&&4==Ee(a))Vd(a.Db,0,a);else if(a.dispatchEvent("readystatechange"),4==Ee(a)){a.F=!1;try{var c=Fe(a),d;a:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:d=!0;break a;default:d=!1}var e;if(!(e=d)){var f;if(f=0===c){var g=ke(String(a.$a))[1]||null;if(!g&&self.location)var h=self.location.protocol,g=h.substr(0,h.length-1);f=!ue.test(g?g.toLowerCase():"")}e=f}if(e)a.dispatchEvent("complete"),a.dispatchEvent("success");else{var i;try{i=2<Ee(a)?a.a.statusText:""}catch(j){i=""}a.za=i+" ["+Fe(a)+"]",Ae(a)}}finally{Ce(a)}}},Ce=function(a,b){if(a.a){De(a);var c=a.a,d=a.La[0]?e:null;a.a=null,a.La=null,b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(f){}}},De=function(a){a.a&&a.kb&&(a.a.ontimeout=null),j(a.Ga)&&(c.clearTimeout(a.Ga),a.Ga=null)},Ee=function(a){return a.a?a.a.readyState:0},Fe=function(a){try{return 2<Ee(a)?a.a.status:-1}catch(b){return-1}},Ge=function(a,b,c){this.r=a||null,this.qc=!!c},He=function(a){a.c||(a.c=new O,a.j=0,a.r&&me(a.r,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))};a=Ge.prototype,a.c=null,a.j=null,a.add=function(a,b){He(this),this.r=null,a=Ie(this,a);var c=this.c.get(a);return c||this.c.set(a,c=[]),c.push(b),this.j++,this},a.remove=function(a){return He(this),a=Ie(this,a),this.c.T(a)?(this.r=null,this.j-=this.c.get(a).length,this.c.remove(a)):!1},a.T=function(a){return He(this),a=Ie(this,a),this.c.T(a)},a.H=function(){He(this);for(var a=this.c.t(),b=this.c.H(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c},a.t=function(a){He(this);var b=[];if(i(a))this.T(a)&&(b=D(b,this.c.get(Ie(this,a))));else{a=this.c.t();for(var c=0;c<a.length;c++)b=D(b,a[c])}return b},a.set=function(a,b){return He(this),this.r=null,a=Ie(this,a),this.T(a)&&(this.j-=this.c.get(a).length),this.c.set(a,[b]),this.j++,this},a.get=function(a,b){var c=a?this.t(a):[];return 0<c.length?String(c[0]):b},a.toString=function(){if(this.r)return this.r;if(!this.c)return"";for(var a=[],b=this.c.H(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.t(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f]))),a.push(g)}return this.r=a.join("&")},a.clone=function(){var a=new Ge;return a.r=this.r,this.c&&(a.c=this.c.clone(),a.j=this.j),a};var Ie=function(a,b){var c=String(b);return a.qc&&(c=c.toLowerCase()),c},Je=function(a,b){this.Mc=a,this.Aa=b};Je.prototype.send=function(a,b){if(Lb&&!navigator.onLine)return $c();var c=new Sc,d=Ke(a,b);return d.length>this.Aa?c.A({status:"payload-too-big",la:hb("Encoded hit length == %s, but should be <= %s.",d.length,this.Aa)}):xe(this.Mc,function(){c.v(fe)},d),c};var Ke=function(a,b){var c=new Ge;return c.add(T.name,a),mb(b,function(a,b){c.add(a.name,b.toString())}),c.toString()},Le=function(a,b,c){this.g=a,this.Lc=b,this.Aa=c};Le.prototype.Xa=function(){if(!this.q){if(!Wc(this.g.ea).C)throw Error("Cannot construct shared channel prior to settings being ready.");new Zd;var a=new _d(new Je(this.Lc,this.Aa)),b=new he;this.q=new $d(this.g,new ie(this.g,new ge(b,a)))}return this.q};var Me=new O,Ne=function(){return R||(R=new Bd(new Md)),R};r("goog.async.Deferred",Sc),r("goog.async.Deferred.prototype.addCallback",Sc.prototype.n),r("goog.async.Deferred.prototype.callback",Sc.prototype.v),r("goog.async.Deferred.prototype.then",Sc.prototype.then),r("goog.events.EventTarget",lc),r("goog.events.EventTarget.prototype.listen",lc.prototype.listen),r("analytics.getService",function(a,b){var c=Me.get(a,null),d=b||chrome.runtime.getManifest().version;if(null===c){c=Ne();if(!S){var e=Ne();S=new Td(e,new Le(e,"https://www.google-analytics.com/collect",8192))}c=new xd("ca1.6.0",a,d,c,S),Me.set(a,c)}return c}),r("analytics.internal.GoogleAnalyticsService",xd),r("analytics.internal.GoogleAnalyticsService.prototype.getTracker",xd.prototype.mc),r("analytics.internal.GoogleAnalyticsService.prototype.getConfig",xd.prototype.kc),r("analytics.internal.ServiceSettings",Bd),r("analytics.internal.ServiceSettings.prototype.setTrackingPermitted",Bd.prototype.Oc),r("analytics.internal.ServiceSettings.prototype.isTrackingPermitted",Bd.prototype.xa),r("analytics.internal.ServiceSettings.prototype.setSampleRate",Bd.prototype.Nc),r("analytics.internal.ServiceSettings.prototype.resetUserId",Bd.prototype.Fc),r("analytics.internal.ServiceTracker",vd),r("analytics.internal.ServiceTracker.prototype.send",vd.prototype.send),r("analytics.internal.ServiceTracker.prototype.sendAppView",vd.prototype.Hc),r("analytics.internal.ServiceTracker.prototype.sendEvent",vd.prototype.Ic),r("analytics.internal.ServiceTracker.prototype.sendSocial",vd.prototype.Kc),r("analytics.internal.ServiceTracker.prototype.sendException",vd.prototype.Jc),r("analytics.internal.ServiceTracker.prototype.sendTiming",vd.prototype.Ib),r("analytics.internal.ServiceTracker.prototype.startTiming",vd.prototype.Rc),r("analytics.internal.ServiceTracker.Timing",wd),r("analytics.internal.ServiceTracker.Timing.prototype.send",wd.prototype.send),r("analytics.internal.ServiceTracker.prototype.forceSessionStart",vd.prototype.jc),r("analytics.internal.ServiceTracker.prototype.addFilter",vd.prototype.R),r("analytics.internal.FilterChannel.Hit",fd),r("analytics.internal.FilterChannel.Hit.prototype.getHitType",fd.prototype.ub),r("analytics.internal.FilterChannel.Hit.prototype.getParameters",fd.prototype.V),r("analytics.internal.FilterChannel.Hit.prototype.cancel",fd.prototype.cancel),r("analytics.ParameterMap",lb),r("analytics.ParameterMap.Entry",lb.Entry),r("analytics.ParameterMap.prototype.set",lb.prototype.set),r("analytics.ParameterMap.prototype.get",lb.prototype.get),r("analytics.ParameterMap.prototype.remove",lb.prototype.remove),r("analytics.ParameterMap.prototype.toObject",lb.prototype.Nb),r("analytics.HitTypes.APPVIEW","appview"),r("analytics.HitTypes.EVENT","event"),r("analytics.HitTypes.SOCIAL","social"),r("analytics.HitTypes.TRANSACTION","transaction"),r("analytics.HitTypes.ITEM","item"),r("analytics.HitTypes.TIMING","timing"),r("analytics.HitTypes.EXCEPTION","exception"),H($,function(a){var b=a.id.replace(/[A-Z]/,"_$&").toUpperCase();r("analytics.Parameters."+b,a)}),r("analytics.filters.EventLabelerBuilder",fb),r("analytics.filters.EventLabelerBuilder.prototype.appendToExistingLabel",fb.prototype.Wb),r("analytics.filters.EventLabelerBuilder.prototype.stripValue",fb.prototype.Sc),r("analytics.filters.EventLabelerBuilder.prototype.powersOfTwo",fb.prototype.Dc),r("analytics.filters.EventLabelerBuilder.prototype.rangeBounds",fb.prototype.Ec),r("analytics.filters.EventLabelerBuilder.prototype.build",fb.prototype.ia),r("analytics.filters.FilterBuilder",db),r("analytics.filters.FilterBuilder.builder",eb),r("analytics.filters.FilterBuilder.prototype.when",db.prototype.when),r("analytics.filters.FilterBuilder.prototype.whenHitType",db.prototype.Rb),r("analytics.filters.FilterBuilder.prototype.whenValue",db.prototype.Yc),r("analytics.filters.FilterBuilder.prototype.applyFilter",db.prototype.mb),r("analytics.filters.FilterBuilder.prototype.build",db.prototype.ia),r("analytics.EventBuilder",nb),r("analytics.EventBuilder.builder",function(){return ob}),r("analytics.EventBuilder.prototype.category",nb.prototype.Yb),r("analytics.EventBuilder.prototype.action",nb.prototype.action),r("analytics.EventBuilder.prototype.label",nb.prototype.label),r("analytics.EventBuilder.prototype.value",nb.prototype.value),r("analytics.EventBuilder.prototype.dimension",nb.prototype.fc),r("analytics.EventBuilder.prototype.metric",nb.prototype.vc),r("analytics.EventBuilder.prototype.send",nb.prototype.send)}.call(this)